(this["webpackJsonprestaurant-front"]=this["webpackJsonprestaurant-front"]||[]).push([[0],{102:function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__ApScI",Logo:"Toolbar_Logo__3Lk47",DesktopOnly:"Toolbar_DesktopOnly__LuPaL"}},103:function(e,t,a){e.exports={InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis",InvalidMessage:"Input_InvalidMessage__3liTp"}},104:function(e,t,a){e.exports={Login:"Login_Login__38Sbn",ErrorMessage:"Login_ErrorMessage__3eecU",LoginBackground:"Login_LoginBackground__3sg9Y"}},105:function(e,t,a){e.exports={Signup:"SignUp_Signup__2bleP",ErrorMessage:"SignUp_ErrorMessage__1Zm2l",LoginBackground:"SignUp_LoginBackground__3N-g5"}},106:function(e,t,a){e.exports={cardscontainer:"NewOrders_cardscontainer__1sKEB",cardsMessage:"NewOrders_cardsMessage__2E6LE"}},107:function(e,t,a){e.exports={User:"User_User__1uesi",orange:"User_orange__1gQWu",Red:"User_Red__3o7jo"}},108:function(e,t,a){e.exports={EditUser:"EditUser_EditUser__3UIMD",ErrorMessage:"EditUser_ErrorMessage__31zwV",saveBtn:"EditUser_saveBtn__1daOK"}},109:function(e,t,a){e.exports={NewUser:"NewUser_NewUser__1SWXn",ErrorMessage:"NewUser_ErrorMessage__1u8bq",saveBtn:"NewUser_saveBtn__1-eZ0"}},110:function(e,t,a){e.exports={Product:"Product_Product__12Dxo",orange:"Product_orange__7qeQL",Red:"Product_Red__2qCdv"}},111:function(e,t,a){e.exports={EditProduct:"EditProduct_EditProduct__lnVkF",ErrorMessage:"EditProduct_ErrorMessage__3UC52",saveBtn:"EditProduct_saveBtn__19lg0"}},112:function(e,t,a){e.exports={NewProduct:"NewProduct_NewProduct__2shsG",ErrorMessage:"NewProduct_ErrorMessage__3MWfV",saveBtn:"NewProduct_saveBtn__1xge9"}},113:function(e,t,a){e.exports={Category:"Category_Category__1_JV7",orange:"Category_orange__2_f2A",Red:"Category_Red__15EE5"}},114:function(e,t,a){e.exports={EditCategory:"EditCategory_EditCategory__SeVPF",ErrorMessage:"EditCategory_ErrorMessage__24xV8",saveBtn:"EditCategory_saveBtn__dtF8r"}},115:function(e,t,a){e.exports={NewCategory:"NewCategory_NewCategory__2WEeO",ErrorMessage:"NewCategory_ErrorMessage__2F9CY",saveBtn:"NewCategory_saveBtn__1pwP4"}},129:function(e,t,a){e.exports={NavigationItem:"NavigationItem_NavigationItem__2SpXc",active:"NavigationItem_active__2v2td"}},135:function(e,t,a){e.exports={actionIconMore:"ToggleButton_actionIconMore__3fQZE",actionIconLess:"ToggleButton_actionIconLess__10cmA"}},153:function(e,t,a){e.exports={Logo:"Logo_Logo__1N0xH"}},154:function(e,t,a){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fnFX"}},156:function(e,t,a){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__m405X"}},157:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},158:function(e,t,a){e.exports={Content:"Layout_Content__3H3X8"}},159:function(e,t,a){e.exports={Loader:"Spinner_Loader__1twK-",load6:"Spinner_load6__1_74m",round:"Spinner_round__3G_CY"}},167:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){e.exports={AdminBg:"Admin_AdminBg__eyBuP"}},172:function(e,t,a){e.exports={Clientebg:"Cliente_Clientebg__24Rbo"}},173:function(e,t,a){e.exports={background:"Chef_background__2TLlP"}},174:function(e,t,a){e.exports={Meserobg:"Mesero_Meserobg__30EJr"}},183:function(e,t,a){},19:function(e,t,a){e.exports={SearchPanel:"SearchPanel_SearchPanel__1Epfz",Filter:"SearchPanel_Filter__2CEBy",orangeBtn:"SearchPanel_orangeBtn__3eA7Y",orange:"SearchPanel_orange__15oSo",pink:"SearchPanel_pink__DcLSM",orangeLink:"SearchPanel_orangeLink__3FmH-",last:"SearchPanel_last__3IyKK",DatePicker:"SearchPanel_DatePicker__3EsWY",DateElements:"SearchPanel_DateElements__2_z_s",SearchForm:"SearchPanel_SearchForm__3rU-d",DateCommands:"SearchPanel_DateCommands__2abyI",StatusCommands:"SearchPanel_StatusCommands__2DCMK",CatCommands:"SearchPanel_CatCommands__XXqAR",PriceCommands:"SearchPanel_PriceCommands__2x4ZE",ChefCommands:"SearchPanel_ChefCommands__3ix0X",DishCommands:"SearchPanel_DishCommands__2aPFD",SearchSpan:"SearchPanel_SearchSpan__h8r5A",orange2:"SearchPanel_orange2__2kSF_",Accordion:"SearchPanel_Accordion__1mcnH",AccordionCard:"SearchPanel_AccordionCard__39A45",AccordionHeader:"SearchPanel_AccordionHeader__2b9gC"}},20:function(e,t,a){e.exports={SearchPanel:"SearchPanel_SearchPanel__15kTx",Filter:"SearchPanel_Filter__2eV2n",orangeBtn:"SearchPanel_orangeBtn__VWZ99",orange:"SearchPanel_orange__SKWnl",pink:"SearchPanel_pink__2-Yo8",orangeLink:"SearchPanel_orangeLink__1DPzk",last:"SearchPanel_last__-q5yx",DatePicker:"SearchPanel_DatePicker__3_nlC",DateElements:"SearchPanel_DateElements__1mE4V",SearchForm:"SearchPanel_SearchForm__xtWNl",DateCommands:"SearchPanel_DateCommands__WvHlc",StatusCommands:"SearchPanel_StatusCommands__3ZDel",CatCommands:"SearchPanel_CatCommands__1cNh4",PriceCommands:"SearchPanel_PriceCommands__DgX7E",ChefCommands:"SearchPanel_ChefCommands__1lFri",DishCommands:"SearchPanel_DishCommands__3n-fA",SearchSpan:"SearchPanel_SearchSpan__mHbvo",orange2:"SearchPanel_orange2__3K0vR",Accordion:"SearchPanel_Accordion__Q9f5A",AccordionCard:"SearchPanel_AccordionCard__27Bi1",AccordionHeader:"SearchPanel_AccordionHeader__2tRSO"}},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},275:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(40),r=a.n(c),o=a(12),i=(a(183),a(5)),s=a(23),l=a.p+"static/media/restaurant-logo.969e6013.jpg",d=a(153),u=a.n(d),j=a(1),m=function(){return Object(j.jsx)("div",{className:u.a.Logo,children:Object(j.jsx)("img",{src:l,alt:"MyLogo"})})},h=a(154),g=a.n(h),b=a(129),p=a.n(b),v=function(e){return Object(j.jsx)("li",{className:p.a.NavigationItem,children:Object(j.jsx)(o.c,{to:e.link,exact:e.exact,activeClassName:p.a.active,children:e.children})})},O=function(e){var t=[{route:"/",displayName:"Iniciar sesi\xf3n"},{route:"/signup",displayName:"Registrarse"}];return e.isAuthenticated&&(t={admin:[{route:"/admin",displayName:"Ver Pedidos"},{route:"/admin/products",displayName:"Productos"},{route:"/admin/categories",displayName:"Categor\xedas"},{route:"/admin/users",displayName:"Usuarios"},{route:"/admin/orders-history",displayName:"Ver Historial"},{route:"/logout",displayName:"Cerrar Sesi\xf3n"}],chef:[{route:"/chef",displayName:"Ordenes nuevas"},{route:"/chef/my-orders",displayName:"Mis pedidos"},{route:"/logout",displayName:"Cerrar Sesi\xf3n"}],mesero:[{route:"/mesero",displayName:"Ordenes nuevas"},{route:"/mesero/my-orders",displayName:"Mis pedidos"},{route:"/logout",displayName:"Cerrar Sesi\xf3n"}],cliente:[{route:"/cliente",displayName:"Men\xfa"},{route:"/cliente/my-orders",displayName:"Mis pedidos"},{route:"/logout",displayName:"Cerrar Sesi\xf3n"}]}[localStorage.getItem("type")]),Object(j.jsx)("ul",{className:g.a.NavigationItems,children:t.map((function(e,t){return Object(j.jsx)(v,{link:e.route,exact:!0,children:e.displayName},t)}))})},f=a(156),x=a.n(f),y=function(e){return Object(j.jsxs)("div",{className:x.a.DrawerToggle,onClick:e.clicked,children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})},_=a(102),C=a.n(_),N=function(e){return Object(j.jsxs)("header",{className:C.a.Toolbar,children:[Object(j.jsx)(y,{clicked:e.drawerToggleClicked}),Object(j.jsx)("div",{className:C.a.Logo,children:Object(j.jsx)(m,{children:"LOGO"})}),Object(j.jsx)("nav",{className:C.a.DesktopOnly,children:Object(j.jsx)(O,{isAuthenticated:e.isAuthenticated})})]})},S=a(71),k=a.n(S),I=a(157),A=a.n(I),P=function(e){return e.show?Object(j.jsx)("div",{className:A.a.Backdrop,onClick:e.clicked}):null},E=function(e){var t=[k.a.SideDrawer,k.a.Close];return e.open&&(t=[k.a.SideDrawer,k.a.Open]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(P,{show:e.open,clicked:e.closed}),Object(j.jsxs)("div",{className:t.join(" "),onClick:e.closed,children:[Object(j.jsx)("div",{className:k.a.Logo,children:Object(j.jsx)(m,{})}),Object(j.jsx)("nav",{children:Object(j.jsx)(O,{isAuthenticated:e.isAuthenticated})})]})]})},w=a(158),T=a.n(w),M=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],r=a[1],o=function(){r(!c)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(N,{drawerToggleClicked:o,isAuthenticated:e.isAuthenticated}),Object(j.jsx)(E,{open:c,closed:o,isAuthenticated:e.isAuthenticated}),Object(j.jsx)("main",{className:T.a.Content,children:e.children})]})},B=a(15),F=a(26),D=function(e,t){return Object(F.a)(Object(F.a)({},e),t)},L=function(e,t){var a=!0;if(!t)return!0;if(t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),t.isEmail){a=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a}if(t.isNumeric){a=/^\d+$/.test(e)&&a}return a},z=function(e,t){return{admin:1===t?"Cancelar":"NA",chef:1===t?"Preparar":2===t?"Terminar":"NA",mesero:3===t?"Entregar":"NA",cliente:1===t?"Cancelar":"NA"}[e]},U=function(e){return{0:"Cancelado",1:"Pendiente",2:"Preparando",3:"Preparado",4:"Entregado"}[e]},V=2500,q=a(289),H=a(287),R=a(29),Q=a(159),G=a.n(Q),K=function(){return Object(j.jsx)("div",{className:G.a.Loader,children:"Loading..."})},J=a(284),Z=a(132),Y=a.n(Z),W=a(175),X=a(103),$=a.n(X);Object(Z.registerLocale)("es",W.a);var ee=function(e){var t=null,a=null,n=[$.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&(n.push($.a.Invalid),a=Object(j.jsx)("p",{className:"".concat($.a.InvalidMessage," text-center"),children:e.errorMessage})),e.elementType){case"input":t=Object(j.jsx)(H.a.Control,Object(F.a)(Object(F.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"group":t=Object(j.jsx)(H.a.Group,{children:Object(j.jsxs)(J.a,{children:[Object(j.jsx)(J.a.Prepend,{children:Object(j.jsxs)(J.a.Text,{children:[" ",Object(j.jsx)(e.icon,{})]})}),Object(j.jsx)(H.a.Control,Object(F.a)(Object(F.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}))]})});break;case"check":t=Object(j.jsx)(H.a.Check,{type:"checkbox",label:e.label,onChange:e.changed},e.label);break;case"select":t=Object(j.jsx)(H.a.Control,Object(F.a)(Object(F.a)({as:"select",className:"".concat(n.join(" ")," mb-3")},e.elementConfig),{},{onChange:e.changed,children:e.elementConfig.options.map((function(e){return Object(j.jsx)("option",{value:e.value,children:e.displayValue},e.value)}))}));break;case"datepicker":t=Object(j.jsx)(Y.a,{dateFormat:"dd MMMM  yyyy",maxDate:new Date,className:"".concat(n.join(" ")," mb-3 form-control"),placeholderText:e.elementConfig.placeholder,locale:"es",selected:e.value,onChange:e.changed});break;default:t=Object(j.jsx)(H.a.Control,Object(F.a)(Object(F.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value}))}return Object(j.jsxs)(j.Fragment,{children:[t,a]})},te=a(25),ae=a(14),ne=a.n(ae),ce=function(e){var t=e.data,a=e.setLoading,n=e.setToken,c=e.setErrorMessage,r=e.history,o=e.register;ne.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/usuarios/signup"),t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){a(!1),o?(console.log(e.data.detail),r.push("/".concat(localStorage.getItem("type"),"/users/").concat(e.data.detail.id))):(localStorage.setItem("token","Bearer ".concat(e.data.detail.token)),localStorage.setItem("type",e.data.detail.type),localStorage.setItem("id",e.data.detail.id),console.log(e.data.detail),a(!1),n(e.data.detail.token))})).catch((function(e){c(!0),a(!1)}))},re=a(18),oe=a(21),ie=a.n(oe),se=a(31),le=function(){var e=Object(se.a)(ie.a.mark((function e(t){var a,n,c;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.setOrders,n=t.setLoading,c=t.filter,e.next=3,ne.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/pedido/filtrar"),c,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var t=e.data.detail;a(t),n&&n(!1)})).catch((function(e){n&&n(!1),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(se.a)(ie.a.mark((function e(t){var a,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.setOrders,n=t.setLoading,e.next=3,ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/pedido/procesando"),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var t=e.data.detail;a(t),n&&n(!1)})).catch((function(e){n&&n(!1),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(se.a)(ie.a.mark((function e(t){var a,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.setOrders,n=t.setLoading,e.next=3,ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/pedido/propios"),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var t=e.data.detail;a(t),n&&n(!1)})).catch((function(e){n&&n(!1),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(se.a)(ie.a.mark((function e(t){var a,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.setOrders,n=t.setLoading,e.next=3,ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/pedido/pendientes"),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var t=e.data.detail;a(t),n&&n(!1)})).catch((function(e){n&&n(!1),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(se.a)(ie.a.mark((function e(t){var a,n,c,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.data,c=t.setLoading,r=t.setOrder,e.next=3,ne.a.put("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/pedido/cambiarEstatus/").concat(a),n,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){r&&r(e.data.detail),c&&c(!1)})).catch((function(e){c&&c(!1),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(e){var t=e.setUsers,a=e.setLoading;ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/usuarios"),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){t(e.data.detail),a(!1)})).catch((function(e){a(!1),console.log(e)}))},ge=function(e){var t=e.setCategories,a=e.setLoading;ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/categoria"),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){t(e.data.detail),a(!1)})).catch((function(e){a(!1),console.log(e)}))},be=function(e){var t=e.setCategories;ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/productos"),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var a={};e.data.detail.forEach((function(e){return a=Object(F.a)(Object(F.a)({},a),{},Object(B.a)({},e.idCategoria._id,e.idCategoria.name))}));var n=e.data.detail.map((function(e){return e.idCategoria._id}));n=Object(re.a)(new Set(n)),t(n.map((function(e){return{_id:e,name:a[e]}})))})).catch((function(e){console.log(e)}))},pe=function(e){var t=e.id,a=e.setProduct,n=e.setLoading;ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/productos/").concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){a(e.data.detail),n&&n(!1)})).catch((function(e){console.log(e),n&&n(!1)}))},ve=function(e){var t=e.setProducts,a=e.setLoading,n=e.filter;ne.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/productos/filtrar"),n,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){t(e.data.detail),a(!1)})).catch((function(e){a(!1),console.log(e)}))},Oe=function(e){var t=e.editForm,a=e.setEditForm,n=e.setLoading,c=e.updateObject,r=e.init,o=void 0!==r&&r;ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/categoria"),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var r={};e.data.detail.forEach((function(e){r[e.name]=e._id}));var i=Object.keys(r).sort();r=i.map((function(e){return{value:r[e],displayValue:e}})),o&&r.unshift(o),a(c(t,{category:c(t.category,{elementConfig:{options:r}})})),n(!1)})).catch((function(e){n(!1),console.log(e)}))},fe=a(126),xe=(a(265),function(e){var t=new fe.default;t.text("Reporte de Ordenes.",14,15);var a=[];e.forEach((function(e){var t,n,c,r,o=new Date(e.createdAt),i=[e._id,"".concat(o.getDate()+1,"/").concat(o.getMonth()+1,"/").concat(o.getFullYear()),"".concat(e.idCliente.firstName," ").concat(e.idCliente.lastName),e.idChef?"".concat(null===e||void 0===e||null===(t=e.idChef)||void 0===t?void 0:t.firstName," ").concat(null===e||void 0===e||null===(n=e.idChef)||void 0===n?void 0:n.lastName):"N/A",e.idMesero?"".concat(null===e||void 0===e||null===(c=e.idMesero)||void 0===c?void 0:c.firstName," ").concat(null===e||void 0===e||null===(r=e.idMesero)||void 0===r?void 0:r.lastName):"N/A","".concat(e.info.length," productos"),"$".concat(e.cost.toFixed(2)),U(e.status)];a.push(i)})),t.autoTable(["ID","Fecha","Cliente","Chef","Mesero","Productos","Costo","Estado"],a,{startY:20});var n=Date().split(" "),c=n[0]+n[1]+n[2]+n[3]+n[4];t.save("report_".concat(c,".pdf"))}),ye=a.p+"static/media/backLogin4.dba2952a.jpg",_e=a(104),Ce=a.n(_e),Ne=Object(s.h)((function(e){var t=Object(n.useState)({email:{elementType:"group",elementConfig:{type:"email",placeholder:"Ingresa tu email"},icon:te.a,value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1,errorMessage:"Ingresa un email v\xe1lido"},password:{elementType:"group",elementConfig:{type:"password",placeholder:"Ingresa tu contrase\xf1a"},icon:te.b,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Ingresa una contrase\xf1a v\xe1lida"}}),a=Object(i.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),l=Object(i.a)(s,2),d=l[0],u=l[1],m=Object(n.useState)(!1),h=Object(i.a)(m,2),g=h[0],b=h[1];e.isAuthenticated&&e.history.push("/".concat(localStorage.getItem("type")));var p=[];for(var v in c)p.push({id:v,config:c[v]});var O=d?Object(j.jsx)(K,{}):p.map((function(e){return Object(j.jsx)(ee,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=D(c,Object(B.a)({},t,D(c[t],{value:e.target.value,valid:L(e.target.value,c[t].validation),touched:!0})));r(a)}(t,e.id)}},e.id)}));return Object(j.jsx)("div",{className:Ce.a.LoginBackground,style:{backgroundImage:"url(".concat(ye,")")},children:Object(j.jsx)(q.a,{className:Ce.a.Login,children:Object(j.jsxs)(q.a.Body,{children:[Object(j.jsx)("h4",{className:"card-title text-center mb-4 mt-1",children:"Inicio de sesi\xf3n"}),Object(j.jsx)("hr",{}),Object(j.jsxs)(H.a,{noValidate:!0,onSubmit:function(t){t.preventDefault(),u(!0),b(!1),function(e){var t=e.data,a=e.setLoading,n=e.setToken,c=e.setErrorMessage;ne.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/usuarios/login"),t).then((function(e){e.data.detail.status?(localStorage.setItem("token","Bearer ".concat(e.data.detail.token)),localStorage.setItem("type",e.data.detail.type),localStorage.setItem("id",e.data.detail._id),a(!1),n(e.data.detail.token)):alert("Usuario desactivado")})).catch((function(e){console.log(e),c(!0),a(!1)}))}({data:{email:c.email.value,password:c.password.value},setLoading:u,setToken:e.setToken,setErrorMessage:b})},children:[O,Object(j.jsx)(R.a,{type:"submit",variant:"primary",size:"lg",block:!0,disabled:!c.email.valid||!c.password.valid,children:" Iniciar Sesi\xf3n  "}),g&&Object(j.jsx)("p",{className:"".concat(Ce.a.ErrorMessage," text-center mt-2"),children:"Error: Verifica las credenciales"}),Object(j.jsxs)("p",{className:"text-center mt-4",children:["\xbfNo tienes cuenta? ",Object(j.jsx)(o.b,{to:"/signup",children:"Registrate"})]})]})]})})})})),Se=function(e){return e.logout(),Object(j.jsx)("div",{children:"Cerrando Sesi\xf3n"})},ke=a(163),Ie=a(105),Ae=a.n(Ie),Pe=Object(s.h)((function(e){var t=Object(n.useState)({firstName:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa tu(s) nombre(s)"},icon:te.c,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un nombre"},lastName:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa tu(s) apellido(s)"},icon:te.c,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un apellido"},email:{elementType:"group",elementConfig:{type:"email",placeholder:"Ingresa tu email"},icon:te.a,value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1,errorMessage:"Ingresa un email v\xe1lido"},password:{elementType:"group",elementConfig:{type:"password",placeholder:"Ingresa tu contrase\xf1a"},icon:te.b,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Ingresa una contrase\xf1a v\xe1lida"},confirmPassword:{elementType:"group",elementConfig:{type:"password",placeholder:"Confirma tu contrase\xf1a"},icon:te.b,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Las contrase\xf1as no coinciden"}}),a=Object(i.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),l=Object(i.a)(s,2),d=l[0],u=l[1],m=Object(n.useState)(!1),h=Object(i.a)(m,2),g=h[0],b=h[1];e.isAuthenticated&&e.history.push("/".concat(localStorage.getItem("type")));var p=[];for(var v in c)p.push({id:v,config:c[v]});var O=d?Object(j.jsx)(K,{}):p.map((function(e){return Object(j.jsx)(ee,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=D(c,Object(B.a)({},t,D(c[t],{value:e.target.value,valid:"confirmPassword"===t?e.target.value===c.password.value:L(e.target.value,c[t].validation),touched:!0})));"password"===t&&a.confirmPassword.value&&(a=D(a,{confirmPassword:D(a.confirmPassword,{valid:e.target.value===a.confirmPassword.value})})),r(a)}(t,e.id)}},e.id)}));return Object(j.jsx)("section",{className:Ae.a.LoginBackground,style:{backgroundImage:"url(".concat(ye,")")},children:Object(j.jsx)(ke.a,{children:Object(j.jsx)(q.a,{className:Ae.a.Signup,children:Object(j.jsxs)(q.a.Body,{children:[Object(j.jsx)("h4",{className:"card-title text-center mb-4 mt-1",children:"Registro"}),Object(j.jsx)("hr",{}),Object(j.jsxs)(H.a,{noValidate:!0,onSubmit:function(t){t.preventDefault(),u(!0),b(!1);var a={firstName:c.firstName.value,lastName:c.lastName.value,email:c.email.value,password:c.password.value};ce({data:a,setLoading:u,setToken:e.setToken,setErrorMessage:b,register:!1})},children:[O,Object(j.jsx)(R.a,{type:"submit",variant:"primary",size:"lg",block:!0,disabled:!c.firstName.valid||!c.lastName.valid||!c.email.valid||!c.password.valid||!c.confirmPassword.valid,children:" Registrarse  "}),g&&Object(j.jsx)("p",{className:"".concat(Ae.a.ErrorMessage," text-center mt-2"),children:"Error: Verifica los datos ingresados"}),Object(j.jsxs)("p",{className:"text-center mt-4",children:["Ya est\xe1s registrado? ",Object(j.jsx)(o.b,{to:"/",children:"Inicia sesi\xf3n"})]})]})]})})})})})),Ee=a(92),we=a(79),Te=a(50),Me=a(165),Be=a(164),Fe=a(166),De=a(60),Le=a.n(De),ze=function(e){var t="cliente"===localStorage.getItem("type"),a="chef"===localStorage.getItem("type"),n="mesero"===localStorage.getItem("type"),c={0:Object(j.jsx)(we.a,{className:Le.a.Grey}),1:Object(j.jsx)(Be.a,{className:Le.a.Yellow}),2:Object(j.jsx)(Ee.b,{className:Le.a.GreenBlue}),3:Object(j.jsx)(Me.a,{className:Le.a.Green}),4:Object(j.jsx)(Fe.a,{className:Le.a.Pink})}[e.status];return Object(j.jsx)("span",{className:t||0===e.status?"":Le.a.Check,onClick:function(c){t||a&&1!==e.status&&2!==e.status||n&&3!==e.status||(e.change(e.id),c.preventDefault(),c.stopPropagation())},children:c})},Ue=a(82),Ve=a.n(Ue),qe=function(e){var t=function(t){e.change(e.order._id),t.preventDefault(),t.stopPropagation()},a=new Date(e.order.createdAt);return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)(ze,{status:e.order.status,change:e.change,id:e.order._id})}),Object(j.jsx)("td",{children:e.order._id.substring(e.order._id.length-7)}),Object(j.jsx)("td",{children:"".concat(a.getDate()+1,"/").concat(a.getMonth()+1,"/").concat(a.getFullYear())}),Object(j.jsx)("td",{children:"".concat(e.order.idCliente.firstName," ").concat(e.order.idCliente.lastName)}),Object(j.jsx)("td",{children:"".concat(e.order.info.length," productos")}),Object(j.jsx)("td",{children:"$".concat(e.order.cost.toFixed(2))}),Object(j.jsx)("td",{children:Object(j.jsx)(Te.a,{className:Ve.a.blue,onClick:function(){e.setOrder(e.order),e.handleShow()}})}),"admin"===localStorage.getItem("type")?1===e.order.status?Object(j.jsx)("td",{children:Object(j.jsx)(we.a,{className:Ve.a.orange,onClick:t})}):0===e.order.status?Object(j.jsx)("td",{children:Object(j.jsx)(Ee.a,{className:Ve.a.orange,onClick:function(t){e.delete(e.order._id),t.preventDefault(),t.stopPropagation()}})}):Object(j.jsx)("td",{}):"cliente"===localStorage.getItem("type")?1===e.order.status?Object(j.jsx)("td",{children:Object(j.jsx)(we.a,{className:Ve.a.orange,onClick:t})}):Object(j.jsx)("td",{}):null]})},He=a(167),Re=a.n(He),Qe=function(e){var t=e.checkForm,a=e.setCheckForm,n=[];for(var c in t)n.push({id:c,config:t[c]});var r=n.map((function(e){return Object(j.jsx)(ee,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,label:e.config.label,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(n){return function(e,n){var c=D(t,Object(B.a)({},n,D(t[n],{value:e.target.checked,touched:!0})));a(c)}(n,e.id)}},e.id)}));return Object(j.jsx)("form",{className:Re.a.CatCommands,children:r})},Ge=(a(266),function(e){var t=e.dateForm,a=e.setDateForm,n=[];for(var c in t)n.push({id:c,config:t[c]});var r=n.map((function(e){return Object(j.jsx)(ee,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,label:e.config.label,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(n){return function(e,n){var c=new Date(e);if("minDate"===n&&t.maxDate.value){var r=new Date(t.maxDate.value);c.getTime()>r.getTime()&&(e=r)}if("maxDate"===n&&t.minDate.value){var o=new Date(t.minDate.value);c.getTime()<o.getTime()&&(e=o)}var i=D(t,Object(B.a)({},n,D(t[n],{value:e,touched:!0})));console.log(t),a(i)}(n,e.id)}},e.id)}));return Object(j.jsx)(j.Fragment,{children:r})}),Ke=(a(267),function(e){var t=e.infoForm,a=e.setInfoForm,n=[];for(var c in t)n.push({id:c,config:t[c]});var r=n.map((function(e){return Object(j.jsx)(ee,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,label:e.config.label,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(n){return function(e,n){var c=e.target.value;"minPrice"===n&&""!==t.maxPrice.value&&+t.maxPrice.value<+c&&(c=t.maxPrice.value),"maxPrice"===n&&""!==t.minPrice.value&&+t.minPrice.value>+c&&(c=t.minPrice.value),+c<0&&(c="0");var r=D(t,Object(B.a)({},n,D(t[n],{value:c,touched:!0})));a(r)}(n,e.id)}},e.id)}));return Object(j.jsx)("div",{children:r})}),Je=a(19),Ze=a.n(Je),Ye=a(288),We=function(e){var t=Object(n.useState)({cancelado:{elementType:"check",label:"Cancelado",value:!1,valid:!0},pendiente:{elementType:"check",label:"Pendiente",value:!1,valid:!0},preparando:{elementType:"check",label:"Preparando",value:!1,valid:!0},preparado:{elementType:"check",label:"Preparado",value:!1,valid:!0},entregado:{elementType:"check",label:"Entregado",value:!1,valid:!0}}),a=Object(i.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)({minDate:{elementType:"datepicker",value:"",elementConfig:{placeholder:"Fecha Inicial"},valid:!0},maxDate:{elementType:"datepicker",value:"",elementConfig:{placeholder:"Fecha Final"},valid:!0}}),s=Object(i.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)({minPrice:{elementType:"input",elementConfig:{type:"number",placeholder:"Precio minimo"},value:"",valid:!0},maxPrice:{elementType:"input",elementConfig:{type:"number",placeholder:"Precio m\xe1ximo"},value:"",valid:!0}}),m=Object(i.a)(u,2),h=m[0],g=m[1],b=Object(n.useState)({platillo:{elementType:"input",elementConfig:{type:"text",placeholder:"Platillo"},value:"",valid:!0}}),p=Object(i.a)(b,2),v=p[0],O=p[1],f=Object(n.useState)({chef:{elementType:"input",elementConfig:{type:"text",placeholder:"Chef"},value:"",valid:!0}}),x=Object(i.a)(f,2),y=x[0],_=x[1],C=Object(n.useState)({mesero:{elementType:"input",elementConfig:{type:"text",placeholder:"Mesero"},value:"",valid:!0}}),N=Object(i.a)(C,2),S=N[0],k=N[1],I=Object(n.useState)({cliente:{elementType:"input",elementConfig:{type:"text",placeholder:"Cliente"},value:"",valid:!0}}),A=Object(i.a)(I,2),P=A[0],E=A[1];return Object(j.jsx)(Ye.a,{className:Ze.a.Accordion,children:Object(j.jsxs)(q.a,{className:Ze.a.AccordionCard,children:[Object(j.jsx)(Ye.a.Toggle,{className:Ze.a.AccordionHeader,as:q.a.Header,eventKey:"0",children:Object(j.jsx)("h4",{children:"B\xfasqueda y Filtros"})}),Object(j.jsx)(Ye.a.Collapse,{eventKey:"0",children:Object(j.jsxs)("section",{className:Ze.a.SearchPanel,id:"Filters",children:[Object(j.jsxs)("div",{className:Ze.a.Filter,children:[Object(j.jsxs)("div",{className:Ze.a.DateCommands,children:[Object(j.jsx)("label",{className:Ze.a.orange,children:"Fecha: "}),Object(j.jsx)("section",{className:Ze.a.DateElements,children:Object(j.jsx)(Ge,{dateForm:l,setDateForm:d})})]}),Object(j.jsxs)("div",{className:Ze.a.StatusCommands,children:[Object(j.jsx)("label",{className:Ze.a.orange,children:"Estatus: "}),Object(j.jsx)(Qe,{checkForm:c,setCheckForm:r})]}),Object(j.jsxs)("div",{className:Ze.a.PriceCommands,children:[Object(j.jsx)("label",{className:Ze.a.orange,children:"Precio: "}),Object(j.jsx)(Ke,{infoForm:h,setInfoForm:g})]}),Object(j.jsxs)("div",{className:Ze.a.ChefCommands,children:["chef"!==localStorage.getItem("type")&&Object(j.jsxs)("span",{className:Ze.a.SearchSpan,children:[Object(j.jsx)("label",{className:Ze.a.orange2,children:"Chef: "}),Object(j.jsx)(Ke,{infoForm:y,setInfoForm:_})]}),"mesero"!==localStorage.getItem("type")&&Object(j.jsxs)("span",{className:Ze.a.SearchSpan,children:[Object(j.jsx)("label",{className:Ze.a.orange2,children:"Mesero: "}),Object(j.jsx)(Ke,{infoForm:S,setInfoForm:k})]}),"cliente"!==localStorage.getItem("type")&&Object(j.jsxs)("span",{className:Ze.a.SearchSpan,children:[Object(j.jsx)("label",{className:Ze.a.orange2,children:"Cliente: "}),Object(j.jsx)(Ke,{infoForm:P,setInfoForm:E})]})]}),Object(j.jsxs)("div",{className:Ze.a.DishCommands,children:[Object(j.jsx)("label",{className:Ze.a.orange,children:"Platillo: "}),Object(j.jsx)(Ke,{infoForm:v,setInfoForm:O})]})]}),Object(j.jsxs)("div",{className:"text-right",children:[Object(j.jsx)(R.a,{className:Ze.a.orangeBtn,type:"submit",size:"sm",onClick:function(){var t={};[c,l,h,v,y,S,P].forEach((function(e){for(var a in e)t[a]=e[a].value})),t=Object(F.a)(Object(F.a)({},t),{},Object(B.a)({},localStorage.getItem("type"),localStorage.getItem("id"))),e.filterOrders(t)},children:" Buscar "}),Object(j.jsx)(R.a,{className:Ze.a.orangeBtn,type:"submit",size:"sm",onClick:function(){r({cancelado:{elementType:"check",label:"Cancelado",value:!1,valid:!0},pendiente:{elementType:"check",label:"Pendiente",value:!1,valid:!0},preparando:{elementType:"check",label:"Preparando",value:!1,valid:!0},preparado:{elementType:"check",label:"Preparado",value:!1,valid:!0},entregado:{elementType:"check",label:"Entregado",value:!1,valid:!0}}),d({minDate:{elementType:"datepicker",value:"",elementConfig:{placeholder:"Fecha Inicial"},valid:!0},maxDate:{elementType:"datepicker",value:"",elementConfig:{placeholder:"Fecha Final"},valid:!0}}),g({minPrice:{elementType:"input",elementConfig:{type:"number",placeholder:"Precio minimo"},value:"",valid:!0},maxPrice:{elementType:"input",elementConfig:{type:"number",placeholder:"Precio m\xe1ximo"},value:"",valid:!0}}),O({platillo:{elementType:"input",elementConfig:{type:"text",placeholder:"Platillo"},value:"",valid:!0}}),_({chef:{elementType:"input",elementConfig:{type:"text",placeholder:"Chef"},value:"",valid:!0}}),k({mesero:{elementType:"input",elementConfig:{type:"text",placeholder:"Mesero"},value:"",valid:!0}}),E({cliente:{elementType:"input",elementConfig:{type:"text",placeholder:"Cliente"},value:"",valid:!0}}),e.clearFilterOrdersHandler()},children:" Limpiar "})]})]})})]})})},Xe=a(38),$e=a(176),et=function(e){var t=e.status,a={0:{variant:"secondary",completion:0},1:{variant:"warning ",completion:25},2:{variant:"primary",completion:50},3:{variant:"info ",completion:75},4:{variant:"success",completion:100}}[e.status],n=a.variant,c=a.completion;return Object(j.jsx)("div",{children:Object(j.jsx)($e.a,{animated:t<4,striped:4===t,variant:n,now:c})})},tt=a(54),at=a.n(tt),nt=function(e){var t,a,c,r,o=e.orderID,s=Object(n.useState)({}),l=Object(i.a)(s,2),d=l[0],u=l[1],m=Object(n.useState)(!0),h=Object(i.a)(m,2),g=h[0],b=h[1],p=z(localStorage.getItem("type"),null===d||void 0===d?void 0:d.status),v=function(e){b(!0),function(e){var t=e.id,a=e.setOrder,n=e.setLoading;ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/pedido/").concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){a(e.data.detail),n(!1)})).catch((function(e){n(!1),console.log(e)}))}({id:e,setOrder:u,setLoading:b})};return Object(n.useEffect)((function(){o&&v(o)}),[o]),Object(j.jsx)(Xe.a,{show:e.show,onHide:e.handleClose,animation:!1,className:at.a.ordercard,children:g?Object(j.jsx)(K,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Xe.a.Header,{closeButton:!0,className:at.a.orangeBackground,children:Object(j.jsx)(Xe.a.Title,{children:Object(j.jsxs)("h4",{children:["Pedido #",d._id]})})}),Object(j.jsxs)(Xe.a.Body,{className:at.a.orderBody,children:[Object(j.jsx)(et,{status:d.status}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Estado: "}),U(d.status)]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Cliente: "}),"".concat(d.idCliente.firstName," ").concat(d.idCliente.lastName)]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Chef: "}),d.idChef?"".concat(null===(t=d.idChef)||void 0===t?void 0:t.firstName," ").concat(null===(a=d.idChef)||void 0===a?void 0:a.lastName):"Sin asignar"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Mesero: "}),d.idMesero?"".concat(null===(c=d.idMesero)||void 0===c?void 0:c.firstName," ").concat(null===(r=d.idMesero)||void 0===r?void 0:r.lastName):"Sin asignar"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Costo: "}),"$",d.cost]}),Object(j.jsx)("hr",{}),Object(j.jsx)("h5",{children:Object(j.jsx)("b",{children:"Detalle del pedido:"})}),Object(j.jsx)("br",{}),d.info?d.info.map((function(e,t){return Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{className:at.a.nameOrange,children:e.name}),Object(j.jsx)("br",{}),e.description]},t)})):null]}),Object(j.jsxs)(Xe.a.Footer,{className:at.a.orderFooter,children:["NA"!==p&&Object(j.jsx)(R.a,{variant:"primary",className:at.a.actionButton,onClick:function(){e.changeStatusHandler(d._id).then((function(e){u(e)})),e.handleClose()},disabled:g,children:p}),Object(j.jsx)(R.a,{className:at.a.secondaryButton,onClick:e.handleClose,children:"Cerrar"})]})]})})},ct=a(169),rt=function(e){var t=e.headers,a=e.rows;return 0===a.length?Object(j.jsx)("h1",{className:"text-center",children:"No hay datos para mostrar"}):Object(j.jsxs)(ct.a,{responsive:!0,bordered:!0,hover:!0,className:"text-center",children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:t.map((function(e,t){return Object(j.jsx)("th",{children:e},t)}))})}),Object(j.jsx)("tbody",{children:a})]})},ot=a(290),it=function(e){for(var t=e.elements,a=e.elementsByPage,n=void 0===a?10:a,c=e.active,r=void 0===c?1:c,o=Math.ceil(t.length/n),i=[],s=function(t){i.push(Object(j.jsx)(ot.a.Item,{active:t+1===r,onClick:function(){window.scrollTo(0,0),e.setActive(t+1)},children:t+1},t+1))},l=0;l<o;l++)s(l);return o>5&&(i=i.splice(r<4?0:o<r+3?o-5:r-2,5)),0!==t.length&&Object(j.jsxs)(ot.a,{size:"md",children:[Object(j.jsx)(ot.a.First,{disabled:1===r,onClick:function(){window.scrollTo(0,0),e.setActive(1)}}),Object(j.jsx)(ot.a.Prev,{disabled:1===r,onClick:function(){window.scrollTo(0,0),e.setActive(r-1)}}),i,Object(j.jsx)(ot.a.Next,{disabled:r===o,onClick:function(){window.scrollTo(0,0),e.setActive(r+1)}}),Object(j.jsx)(ot.a.Last,{disabled:r===o,onClick:function(){window.scrollTo(0,0),e.setActive(o)}})]})},st=a(48),lt=a.n(st),dt=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(i.a)(r,2),s=o[0],l=o[1],d=Object(n.useState)({}),u=Object(i.a)(d,2),m=u[0],h=u[1],g=Object(n.useState)(1),b=Object(i.a)(g,2),p=b[0],v=b[1],O=Object(n.useState)(!0),f=Object(i.a)(O,2),x=f[0],y=f[1],_=["Listo","ID","Fecha","Cliente","Cant.productos","Costo","Detalles"];"admin"===localStorage.getItem("type")?_.push("Cancelar/Eliminar"):"cliente"===localStorage.getItem("type")&&_.push("Cancelar");var C=function(){return c(!0)};Object(n.useEffect)((function(){ue({setOrders:l,setLoading:y})}),[]);var N=function(){var e=Object(se.a)(ie.a.mark((function e(t){var a,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(re.a)(s),n=a.findIndex((function(e){return e._id===t})),a[n].status=1===a[n].status?"admin"===localStorage.getItem("type")||"cliente"===localStorage.getItem("type")?0:2:a[n].status+1,e.next=5,me({id:a[n]._id,data:{status:a[n].status},setLoading:y,setOrder:h,filter:{special:"chef"===localStorage.getItem("type")||"mesero"===localStorage.getItem("type")}});case 5:return e.abrupt("return",a[n]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){var t=Object(re.a)(s),a=t.findIndex((function(t){return t._id===e}));t.splice(a,1),function(e){var t=e.id,a=e.setOrders,n=e.ordersArray,c=e.setLoading;ne.a.delete("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/pedido/").concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){a(Object(re.a)(n)),c(!1)})).catch((function(e){alert("No se puede eliminar un pedido que no est\xe1 cancelado")}))}({id:e,setOrders:l,ordersArray:t,setLoading:y})};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:lt.a.OrderHistory,children:[Object(j.jsx)(We,{filterOrders:function(e){y(!0),v(1),le({setOrders:l,setLoading:y,filter:e})},clearFilterOrdersHandler:function(){y(!0),v(1),ue({setOrders:l,setLoading:y})}}),Object(j.jsx)("br",{}),Object(j.jsxs)(q.a,{className:lt.a.Card,children:[!x&&Object(j.jsx)("div",{children:0!==s.length&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("p",{className:lt.a.orangeTxt,children:"Pedidos:"}),Object(j.jsx)("p",{className:lt.a.orangeUnderlined,children:s.length})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("p",{className:lt.a.orangeTxt,children:"Total:"}),Object(j.jsxs)("p",{className:lt.a.orangeUnderlined,children:["$",s.reduce((function(e,t){return e+t.cost}),0)]})]})]})}),x?Object(j.jsx)(K,{}):Object(j.jsx)("div",{className:lt.a.Table,children:Object(j.jsx)(rt,{headers:_,rows:Object(re.a)(s).splice(10*(p-1),10).map((function(e){return Object(j.jsx)(qe,{order:e,change:N,delete:S,handleShow:C,setOrder:h},e._id)}))})}),!x&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(j.jsx)(it,{elements:s,active:p,setActive:v})}),0!==s.length&&Object(j.jsx)(R.a,{className:lt.a.orangeBtn,type:"submit",variant:"primary",size:"lg",block:!0,onClick:function(){return xe(s)},children:"Generar reporte"})]})]})]}),Object(j.jsx)(nt,{orderID:null===m||void 0===m?void 0:m._id,show:a,handleClose:function(){return c(!1)},changeStatusHandler:N})]})},ut=function(e){return Object(j.jsx)("div",{className:"col mb-3",children:Object(j.jsxs)(q.a,{className:"text-center",children:[Object(j.jsxs)(q.a.Header,{className:"",children:[Object(j.jsxs)("h4",{children:["Pedido #",e.order._id.substring(e.order._id.length-7)]}),Object(j.jsx)(et,{status:e.order.status})]}),Object(j.jsxs)(q.a.Body,{children:[Object(j.jsxs)(q.a.Text,{className:"text-break text-center",children:[Object(j.jsx)("span",{className:"h6",children:"Estado:"}),Object(j.jsx)("br",{}),U(e.order.status)]}),Object(j.jsx)(R.a,{variant:"info",className:"is-centered orderBtn",block:!0,onClick:function(){e.setOrder(e.order),e.handleShow()},children:"Ver pedido"})]})]})})},jt=a(106),mt=a.n(jt),ht=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(i.a)(r,2),s=o[0],l=o[1],d=Object(n.useState)(),u=Object(i.a)(d,2),m=u[0],h=u[1],g=Object(n.useState)(!0),b=Object(i.a)(g,2),p=b[0],v=b[1],O=function(){return c(!1)};Object(n.useEffect)((function(){je({setOrders:l,setLoading:v});var e=setInterval((function(){je({setOrders:l,setLoading:v})}),V);return function(){return clearInterval(e)}}),[]);var f=function(){var e=Object(se.a)(ie.a.mark((function e(t){var a,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(re.a)(s),n=a.findIndex((function(e){return e._id===t})),a[n].status=1===a[n].status?"admin"===localStorage.getItem("type")||"cliente"===localStorage.getItem("type")?0:2:a[n].status+1,e.next=5,me({id:a[n]._id,data:{status:a[n].status},setLoading:v,setOrder:h});case 5:return e.next=7,je({setOrders:l,setLoading:v});case 7:return e.abrupt("return",a[n]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=s.map((function(e){return Object(j.jsx)(ut,{order:e,setOrder:h,handleShow:function(){return c(!0)},handleClose:function(){return O()}},e._id)}));return Object(j.jsxs)("div",{className:"".concat(mt.a.background," overflow-auto"),children:[p?"":0===x.length?Object(j.jsxs)("h2",{className:mt.a.cardsMessage,children:["No hay \xf3rdenes pendientes.",Object(j.jsx)("br",{}),"\xa1Buen trabajo!"]}):"",Object(j.jsx)(ke.a,{className:"".concat(mt.a.cardscontainer,"  overflow-auto vh-75"),children:p?Object(j.jsx)(K,{}):Object(j.jsx)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 overflow-auto",children:x})}),Object(j.jsx)(nt,{orderID:null===m||void 0===m?void 0:m._id,show:a,handleClose:function(){return O()},changeStatusHandler:f})]})},gt=a(170),bt=a.n(gt),pt=function(e){var t=e.checkForm,a=e.setCheckForm,n=[];for(var c in t)n.push({id:c,config:t[c]});var r=n.map((function(e){return Object(j.jsx)(ee,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,label:e.config.label,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(n){return function(e,n){var c=D(t,Object(B.a)({},n,D(t[n],{value:e.target.checked,touched:!0})));a(c)}(n,e.id)}},e.id)}));return Object(j.jsx)("form",{className:bt.a.CatCommands,children:r})},vt=(a(268),function(e){var t=e.infoForm,a=e.setInfoForm,n=[];for(var c in t)n.push({id:c,config:t[c]});var r=n.map((function(e){return Object(j.jsx)(ee,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,label:e.config.label,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(n){return function(e,n){var c=e.target.value;"minPrice"===n&&""!==t.maxPrice.value&&(console.log(n),+t.maxPrice.value<+c&&(c=t.maxPrice.value)),"maxPrice"===n&&""!==t.minPrice.value&&+t.minPrice.value>+c&&(c=t.minPrice.value),+c<0&&(c="0");var r=D(t,Object(B.a)({},n,D(t[n],{value:c,touched:!0})));a(r)}(n,e.id)}},e.id)}));return Object(j.jsx)("div",{children:r})}),Ot=a(20),ft=a.n(Ot),xt=function(e){var t=e.statusForm,a=e.setStatusForm,n=e.typeForm,c=e.setTypeForm,r=e.priceForm,o=e.setPriceForm,i=e.nombreForm,s=e.setNombreForm,l=e.apellidoForm,d=e.setApellidoForm,u=e.mailForm,m=e.setMailForm,h=e.descripcionForm,g=e.setDescripcionForm,b=e.categoriaForm,p=e.setCategoriaForm,v=e.filterHandler,O=e.clearFilter;return Object(j.jsx)(Ye.a,{className:ft.a.Accordion,children:Object(j.jsxs)(q.a,{className:ft.a.AccordionCard,children:[Object(j.jsx)(Ye.a.Toggle,{className:ft.a.AccordionHeader,as:q.a.Header,eventKey:"0",children:Object(j.jsx)("h4",{children:"B\xfasqueda y Filtros"})}),Object(j.jsx)(Ye.a.Collapse,{eventKey:"0",children:Object(j.jsxs)("section",{className:ft.a.SearchPanel,id:"Filters",children:[Object(j.jsxs)("div",{className:ft.a.Filter,children:[t?Object(j.jsxs)("div",{className:ft.a.StatusCommands,children:[Object(j.jsx)("label",{className:ft.a.orange,children:"Estatus: "}),Object(j.jsx)(pt,{checkForm:t,setCheckForm:a})]}):null,n?Object(j.jsxs)("div",{className:ft.a.StatusCommands,children:[Object(j.jsx)("label",{className:ft.a.orange,children:"Tipo: "}),Object(j.jsx)(pt,{checkForm:n,setCheckForm:c})]}):null,r?Object(j.jsxs)("div",{className:ft.a.PriceCommands,children:[Object(j.jsx)("label",{className:ft.a.orange,children:"Precio: "}),Object(j.jsx)(vt,{infoForm:r,setInfoForm:o})]}):null,i?Object(j.jsxs)("div",{className:ft.a.PriceCommands,children:[Object(j.jsx)("label",{className:ft.a.orange,children:"Nombre: "}),Object(j.jsx)(vt,{infoForm:i,setInfoForm:s})]}):null,l?Object(j.jsxs)("div",{className:ft.a.PriceCommands,children:[Object(j.jsx)("label",{className:ft.a.orange,children:"Apellido: "}),Object(j.jsx)(vt,{infoForm:l,setInfoForm:d})]}):null,u?Object(j.jsxs)("div",{className:ft.a.PriceCommands,children:[Object(j.jsx)("label",{className:ft.a.orange,children:"Correo: "}),Object(j.jsx)(vt,{infoForm:u,setInfoForm:m})]}):null,h?Object(j.jsxs)("div",{className:ft.a.PriceCommands,children:[Object(j.jsx)("label",{className:ft.a.orange,children:"Descripci\xf3n: "}),Object(j.jsx)(vt,{infoForm:h,setInfoForm:g})]}):null,b?Object(j.jsxs)("div",{className:ft.a.PriceCommands,children:[Object(j.jsx)("label",{className:ft.a.orange,children:"Categor\xeda: "}),Object(j.jsx)(vt,{infoForm:b,setInfoForm:p})]}):null]}),Object(j.jsxs)("div",{className:"text-right",children:[Object(j.jsx)(R.a,{className:ft.a.orangeBtn,type:"submit",size:"sm",onClick:v,children:" Buscar "}),Object(j.jsx)(R.a,{className:ft.a.orangeBtn,type:"submit",size:"sm",onClick:O,children:" Limpiar "})]})]})})]})})},yt=a(68),_t=a.n(yt),Ct=a(55),Nt=a.n(Ct),St=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(i.a)(r,2),l=s[0],d=s[1],u=Object(n.useState)({inactivo:{elementType:"check",label:"Inactivo",value:!1,valid:!0},activo:{elementType:"check",label:"Activo",value:!1,valid:!0}}),m=Object(i.a)(u,2),h=m[0],g=m[1],b=Object(n.useState)({admin:{elementType:"check",label:"Administrador",value:!1,valid:!0},chef:{elementType:"check",label:"Chef",value:!1,valid:!0},mesero:{elementType:"check",label:"Mesero",value:!1,valid:!0},cliente:{elementType:"check",label:"Cliente",value:!1,valid:!0}}),p=Object(i.a)(b,2),v=p[0],O=p[1],f=Object(n.useState)({nombre:{elementType:"input",elementConfig:{type:"text",placeholder:"Nombre"},value:"",valid:!0}}),x=Object(i.a)(f,2),y=x[0],_=x[1],C=Object(n.useState)({apellido:{elementType:"input",elementConfig:{type:"text",placeholder:"Apellido"},value:"",valid:!0}}),N=Object(i.a)(C,2),S=N[0],k=N[1],I=Object(n.useState)({mail:{elementType:"input",elementConfig:{type:"text",placeholder:"Mail"},value:"",valid:!0}}),A=Object(i.a)(I,2),P=A[0],E=A[1],w=Object(n.useState)(1),T=Object(i.a)(w,2),M=T[0],B=T[1];return Object(n.useEffect)((function(){he({setUsers:c,setLoading:d})}),[]),Object(j.jsxs)("div",{className:Nt.a.Users,children:[Object(j.jsx)(xt,{statusForm:h,setStatusForm:g,typeForm:v,setTypeForm:O,nombreForm:y,setNombreForm:_,apellidoForm:S,setApellidoForm:k,mailForm:P,setMailForm:E,filterHandler:function(){var e={};[h,v,y,S,P].forEach((function(t){for(var a in t)e[a]=t[a].value})),d(!0),B(1),function(e){var t=e.setUsers,a=e.setLoading,n=e.filter;ne.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/usuarios/filtrar"),n,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){t(e.data.detail),a(!1)})).catch((function(e){a(!1),console.log(e)}))}({setUsers:c,setLoading:d,filter:e})},clearFilter:function(){g({inactivo:{elementType:"check",label:"Inactivo",value:!1,valid:!0},activo:{elementType:"check",label:"Activo",value:!1,valid:!0}}),O({admin:{elementType:"check",label:"Administrador",value:!1,valid:!0},chef:{elementType:"check",label:"Chef",value:!1,valid:!0},mesero:{elementType:"check",label:"Mesero",value:!1,valid:!0},cliente:{elementType:"check",label:"Cliente",value:!1,valid:!0}}),_({nombre:{elementType:"input",elementConfig:{type:"text",placeholder:"Nombre"},value:"",valid:!0}}),k({apellido:{elementType:"input",elementConfig:{type:"text",placeholder:"Apellido"},value:"",valid:!0}}),E({mail:{elementType:"input",elementConfig:{type:"text",placeholder:"Mail"},value:"",valid:!0}}),d(!0),B(1),he({setUsers:c,setLoading:d})}}),Object(j.jsx)("br",{}),Object(j.jsxs)(q.a,{className:Nt.a.Card,children:[Object(j.jsx)("section",{className:Nt.a.buttonContainer,children:Object(j.jsx)(o.b,{to:"/admin/users/new-user",children:Object(j.jsxs)(R.a,{className:Nt.a.orangeBtn,size:"sm",children:[Object(j.jsx)("p",{className:Nt.a.big,children:"+"})," Nuevo usuario"]})})}),l?Object(j.jsx)(K,{}):Object(j.jsx)("div",{className:Nt.a.Table,children:Object(j.jsx)(rt,{headers:["ID","Tipo","Nombre(s)","Apellido(s)","Email","Estado","Detalles"],rows:Object(re.a)(a).splice(10*(M-1),10).map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id.substring(e._id.length-7)}),Object(j.jsx)("td",{children:e.type}),Object(j.jsx)("td",{children:e.firstName}),Object(j.jsx)("td",{children:e.lastName}),Object(j.jsx)("td",{children:e.email}),Object(j.jsx)("td",{children:Object(j.jsx)(_t.a,{checked:e.status,disabled:e._id===localStorage.getItem("id"),onChange:function(){var n=Object(re.a)(a);n[10*(M-1)+t].status=!a[10*(M-1)+t].status,c(n),function(e){var t=e.id,a=e.status;ne.a.put("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/usuarios/cambiarEstatus/").concat(t),{status:a},{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){})).catch((function(e){console.log(e)}))}({id:e._id,status:e.status})}})}),Object(j.jsx)("td",{children:Object(j.jsx)(o.b,{to:"/admin/users/".concat(e._id),children:Object(j.jsx)(Te.a,{className:"".concat(Nt.a.blue)})})})]},t)}))})}),!l&&Object(j.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(j.jsx)(it,{elements:a,active:M,setActive:B})})]})]})},kt=a(69),It=a(30),At=a(107),Pt=a.n(At),Et=function(){var e=Object(s.f)().id,t=Object(n.useState)({}),a=Object(i.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)(!0),d=Object(i.a)(l,2),u=d[0],m=d[1];return Object(n.useEffect)((function(){!function(e){var t=e.id,a=e.setUser,n=e.setLoading;ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/usuarios/").concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){a(e.data.detail),n(!1)})).catch((function(e){n(!1),console.log(e)}))}({id:e,setUser:r,setLoading:m})}),[e]),u?Object(j.jsx)(K,{}):Object(j.jsxs)(q.a,{className:Pt.a.User,children:[Object(j.jsx)(q.a.Img,{variant:"top",src:"admin"===c.type?"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTW4CH2TTTQuYDIpSsN8yIpiCEG6YgBVAkbpQ&usqp=CAU":"mesero"===c.type?"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBIWEhgVEhISGBIYGBkSGBgZGBkZFRgZGBgZGRgYGBkcIS4lHB4rHxgaJzgmKy8xNTU1GiQ7QDs1Py40NTEBDAwMDw8QGBIRGDEhGCExNDExMTE0MTwxNDQxMT80PzQ0MTQ0PzQ0MT8/NDExNDE0MT80MTQxPzQxNDExMTExMf/AABEIAKsBJgMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABgECBAUHAwj/xABHEAACAQIDAwkDBwgJBQAAAAABAgADEQQSIQUxQQYHEyJRYXGBkTKhsUJSVHKCwfAXI2KSk9HS4hQzNUNzg7LC4SRkorPx/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/8QAGREBAQEBAQEAAAAAAAAAAAAAAAERMUEh/9oADAMBAAIRAxEAPwDs0Tyq1VVSzMFUC5YkAADeSTuE5tyq52sNRumCUYiruz3IoqfHe/lp3wOi4vFU6aM9V0SmouzOwVQO8nSc05Q872HR8mEQ1QGs1VrhAL2JRd7HxsJyblBylxeMbNiazMAbqg6tNfqoNPPfNODA7rtbFGq4qlw+amHQjQWsSAPW84dfQeF5PeRG0eloNh3brUtUN9cjcAf0W9zSDvTysV1BVih+ybfdMq2GxOUuMwjDoarhLgmmSSh+z8nxFjJrV5x6D5WOB64TrEVAt3O8khblfEX1nNujYkAEkncALkzZpsHE5A4puVIDXsTpvvFkvVls5Uq21zk1igp4Gl/RgQA73D1mPEKxFlW/n4SEVMRUdi9R3dzvZyWY+LNcyzEYeojWa6mUXNxMsknEtt66HzacrBg+k6VS1Bmpq7A3ZCRUysF4jqm/lO27O2jRr0w9CotRDxU3t3Ebwe4z5boOy0XPyXemnmodpk7L2zXw9TPh6ro+4lToR2MNzDuMQfVMTlPJfnVVyExyBTu6VAcp+svDxGndOmYLHUqqh6VRHQ7mRgw90qMqIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiIHyrt/lRjcYT/ScQ7Je4QdWkOyyDTzNzNLaVMQBlCJWIGZsLHdDiEcnq3yP9RtG9N/lJpiuSXSVmZc93bORplBO+2k5/lvO6c3OPXEYJCbGpTPQv29UdRj4rl98liysLYXIxKJbMiEsuUNrnF/aFzwt8ZPcDs2mtJUVQFUZAOwDQCXFNb9k98IxyEDeHYeV7/fLCoft3kTRqksFGbU7tD4iQfAciEZ2WulVNbKyMLb+xgRO2Wvp36eEx/6Ot9wkpHBuXOxaeCNHD03dwwfEsWChuuVRQbdgpn1MioaTHnZrBtpsBuSlTp/6mP+qQq8o9leZ+A2jVpNnpVKiP8AORip9RNWDPVDCO7c1/K+rihUo4lg1SmqOr2ALKxKkNbeQQNf0p0QGcA5o8QV2iVvo+HcW7SHpsPgZ21MTl3en7oGziWI4IBG4y+AiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgfI21qQTEVkG5KtRPJXYD4TEvNvywp5No4pf+4qH9Zy33zTwKysoDEC4SZ82G2+gxopu1qWItSN9wf8Auz6kr9uQuXKewkHeCN4PAiB9UKNJ7YEe13tm9wH3SMciNv8A9MwSVGI6VPzVUfpqB1vBhY+ckuFNvT8fGIr2rnsnhVcAFjwF4xDzS8o8cKeHdz8lSfQExRwblZizVxtdyd7kDwWyj4TTmXvULEsd7EsfEm5lsIoJ6LLAJcJRK+bmtl2ph+AcvTPg1N/vAneha17nT1nzryPqlNoYVhvFZB+t1fvn0R0gIJtbTUcLyKytnViQL8fjNjNLgCco8SZuFa4vCLonjXqhVLG9h2AsfIDUzU47lLQpC9Raqj9JcnpnKwN3Eg+I5z9nobfnD9Xoz/vmE/O3ghuo1z50/wCKFyuixOb/AJXMJwoVfNl+68sPO5h/k4dz9v8AlgyulxOZHncpcMK37T+SU/K3T+in9of4IMrp0Tmf5WE+in9of4JUc7FP6Kf2n8kGV0uJzb8rFL6M37T+SVHOrS+jP+v/ACwZXSInPBzpUfo7frj+Gei85+GuAaTAk2F3Qb/GDK6BE0mzduNWXMuGq5e0NSI/1Xm5G6EXREQERED5d5xkK7UxF/lMj37botz63kcvJtzrUw2Jp1gCC9Mow7HQ6j0YSDKYF8qDLRKwKysoDECb81m3OgxvQu1qWIApm+4VBc0z5m6/aHZO7Ud/l94nyojkEFSQwNwRvBGoI77z6M5HbbGLwlOvf84AadQdjqBm8jow7mEDeV7k+H4EgXObjcmBcX1crTH2mF/cD6Sd1m7T3XnH+d3aAL0sOpvlvWfx1VPcWgc3vLg0tiUeglwnmJcDA2/JgE47C239PSPkHUn3Az6Gdrk23Th/Nvs41ccr26lFWqE8Mx6iD/yJ+yZ2umwHGSjOo6WE2eGa6+6ahHmxwD7x5wM2arbexKOJTJUHgwtmHhNrEDnD80eDY3NfE+XRj/ZKDmhwHGrij9pPuSdHiTF2uI8oOQ+DoYhUpmrkUIzl3uWzHVVKgZdOPfJjT5qdmD6Sf80/umHy/pWxGbrdZFItlvpmX5XhJzsnGrUw6VbgBkBJJGhAswPgQYW2uSbb5FUExLJQutNQFu7s7M1gWJNxYC4Fu7vmm2hsqk1c08FTzqihHLO92qL7ZQAi633X19ZPsUA+IrMGNumaxGo9lfdNXybx2Cwz1GdulxAd7U0BbKSx9pj1V7NTBKxdv8lsLTpYcUKbriaqh2Du7BBYXGUcSxt5TAxexsOlJaSUDUxwBNRw7rQp6mwy36z5bdXd8JKEqtiKz130ZuqgHyEXcB39/fN7sLk2pvWrg5mOYLuFj2iDUZ5Jc39OrSZ8ZTIuQECM6acb3Oo1t5GSEc2mzfmVv2jSZCVlTahv5N9nfNrftDK4fm52cjhwlQsNRmckDwHCTGJMNedGiqqFQAKBYAbp6xEqEREBERA4Hzv0bNTIGl7+oInMJ1/ndS+HRuxx75yGBcpl88peDAulbygiBW8nXNRt/oMX0DtaliCF1Oi1BfIftXy+JWQSFYgggkEG4I0II3EGB9PbZqhEZyQqqCzE7gALk+k+ctubSbE4l6zE9dur3KNFHpJXyn5eNisBSo3IrMMuII0BCbrfWNj5EcZBYFIERKLhKiUlVgdM5tUNOm7nQVCDftC3Vfix85Pab39ZFuTAw4oUx0qGyJdRwNhcHzkqWwta1uEjTZUn0mVgK9mHpNWlSwlEqkG8jKYRPOkbqD2gH3T0lCUlZqcftVVfo0IzgZmPBB398gjXL8IxTLcul1axb5ViB1db3HvkU2ZtM01yOKj0811Aa4Un2rjx7uJm52zjka6J1mY3ZuyxB9fhpMd8Bms2XUjz77Hf5GTrUZWzqRdc5Ns7s58z+6aHA7KepUb81b847lFFrsWJu53sZLdn4Z2IVQSbennJVszAdGLtYufcOyXDca7k/sQ0+tUAvbRd9u88JIhKxKyREQEREBERAREQEREDh3OjiQ+EQ9rjyIJB94nJp0XnExOfDJcWbp3DDhcLqR4kX85zmAlVMpED1ES1ZdArKNEGBUGVEvw2HqO4Smju7bkUFmPgBJdgebbadQXNFEH6dRQfMLmIgQ+JOX5q9pj6Mf8ANP3qJmYfmkxhVTUxGHQk6qM7kDxAAJ7pRzuXJNnyi2JUweIahUIJADKy+y6NfKwvu3EW7RNasCS7BpsSuUkG3DsnT9hoy0VDEmxJ14C+6QjkvQXIjNYZwAt+Nh/9knrbVRPzK1EFTdbUsL9w1vMtttWxt2yId28iZuGuwG+80OA2c2+o7W7AMo/ffxtJBhKmS2QeZ1v5Sepc8TKloo7gPhLBiUOgdfUSMYzabvozadg0B7zMd8cF3anu4ecuspLjNpolwNW9059tDGuS6i+ZzmY9vG347Zm4iszm24d08kpqWAuL3APj/wAjh3Qs+MfZ2AJ8d5J7JKMBs8sQF9kAAn8cZi4agVNltbvveS3DUciBfXxMpaYbDKgsoHeeJ8Z7xEIREQEREBERAREQEREBERA+YuWGJZqVEPozvUrEdl7ACRGdU5e8i67l8RTqo4UM/RZCrhL3OW1w1h4bjObU9m4hvZoVm8Ec/AQMSVm2o8mce3s4PE+dNx8RNnS5v9qsLjCN26vTB9C2kCLCXiSXC8g9qO5UYR1scpZyqqPBiesPC8lGzeaHENY4jE00HFUUu3qcogczEl/JHkRUxairUqCnh7kAjWo9jY5QdAOGY+hnRsBzaYDDlXIqVqgNwKhVkvbigWzDxvJU2HphFNNQqZRZVAAHHQDdvk1cajYmysJhly4ekq6WLD22+s51Pwm8TGACwVfeZgBDeXGNWRsaeIzHUy56q7tT5zApb+HfPSrS+abcNwPp3ywrkvO7gcuKp187MtVCgU/INIi4B4g57663v3SBLN/y72nUq42qrVS9Ok7U6e7Kq6ZgoXTeNTxsOyR9TKynvJ7ZlZ6dNxckopRjbIi8LDt4+MmOztl06IuNXPtNxJO+5Opmt5FVgcDS11CWPkxFx2zJx+0FLGmpN/Zdh8m/yAfnHieEi63Y0UlipW/VtutYW1463nphsxXMR228OE1dOqllQNc2CgXGnCwv+NJsmcKwp30y6ffIMStV6wF9SQPfPaovXI475hOlqifXHoDM3aWZesoJJ3eMQx4uGZujp+3vZvkoO09/YOM2+A2ShAUUw3EswFyTvLGWYDC9GlrZqjasfnMezuG4d0lOCw2RddWO8/cOwSoswmz0QDqgkeg8BM2ViAiIgIiICIiAiIgIiICIiAiIgaRFUSrOO2Y7PLc0I9syk2noHFx3kn0tMJSLy6rVYZMtrXYNfy3aQMt2lVeYL4meFTGMCN1jCs3HE5CwNmTrr4iY9BwCB/duC69xOpHrC4gfK3TEUlGyNuDF0PCx4SLHq513y2YXT3O8y4OO2FZSgk6GYvKCuq4Ou1RmVRSe7BirAlSFykag5rDznol76Nac352Npoz08OrsXW9RwCcozAZQy7i2hPdfvlkLXOxLiZSBKy6ByJxTJhna/sL1BwzMSB79fKZ+z2uCTqFub8Sx3kzK2Dstq2yKdTDUyz60KqqNS1N2ytYb7q49BKY7CsmTD01PSNv7bmFZnJ2lnqNVPsocq/WP/HxmwqPmxA8560qa4eilJdWAu1uLHeZ5Yei5cPY337jIPdkvUEzK1XNZBq53W9Lnsnrg8AzMTYgnf863dbdJBs7ZapqyqDvCj4k8TGGvXAYO1mb2rad3f4zYxKwhERAREQEREBERAREQEREBERAREQIyTKXlAYhFs8doORTQg/KI9RcfCexmq5UVWXDArv6RQeOhVv3QMhKqH2h3a8J44zQnKCRoykezbjOf7f5b4jDlVppTLsM2ZgxFt24EamxkYxfLvaVTTp8i9iIigeBtf3xVdoSrfQ7joTOYY3nAxdJ3pdHRJp1GVSS7ABWII9q5BHfxkMxW08RU/rK9Zwd4Z2YehNph5YE8oc5DgHNhKZbtV2UehB+M88VzkYg/1dCkvbmLOSPUWkJCxllEsxXOBjnXKpp0zxZF69uwFiQPEC8jNWs7sWdmZmN2ZiWYntJOpnmBKwKyqy0T0WEdu5i6n/S4lL6isr+TIov6qZ0qrhKbsGemjMBYEgZgDvF985RzDtri142oN76w+6dgkVrTsXD3v0YB7iw+Bnomy6I3J6sx++Z0QPOnTC6KAB3C09IiAiIgIiICIiAiIgIiICIiAiIgIiICIiBFlMqTLEOg8BL7wixjMPa2GD0cp+erel/3zMIipbozfdcfGBwbnBsMc6DcionuzH4yMATccrcUtTHYh0YMjVDlYbiBoLd2k1AhVRKmUEqZR6WGXh6637LdktiICVEpKiAEvWWy4So6rzG4i2KxCfOoq4+w9j/7BO2z5w5rNrU8PtJGqMFR1agWO4F8pW54DMoHnPo4TKqxEQEREBERAREQEREBERAREQEREBERAREQERECJroPdLs0tbefE/GUhFS2sweUuLelgMRUpm1RELqbXsQRwMyTvmByu/s3Ff4NT4QPnVjrKSkqIVWVJlIMo9chtm4fjWWz1+SfCeUCsrLZWBcDAlsqJUeya6don0fzX4nEVNl0XxDZ2OcITv6NWKLmPE9U69lp84UfaH44T6Y5uv7Kwn+CD7zJVSeIiQIiICIiAiIgIiICIiAiIgIiICIiAiIgIiIH/9k=":"chef"===c.type?"https://media.gettyimages.com/photos/pan-fried-duck-picture-id1081422898?s=612x612":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRh2j_No99ryewMw39sMjVID6QUf342dDk2Bw&usqp=CAU"}),Object(j.jsxs)(q.a.Body,{children:[Object(j.jsx)(q.a.Title,{className:"text-capitalize",children:"".concat(c.type,": ").concat(c.firstName," ").concat(c.lastName)}),Object(j.jsx)(q.a.Text,{children:"Email: ".concat(c.email)})]}),Object(j.jsx)(q.a.Footer,{children:Object(j.jsxs)("small",{className:"text-muted",children:["Ultima actualizaci\xf3n el ".concat(new Date(c.updatedAt).getDate(),"/").concat(new Date(c.updatedAt).getMonth()+1,"/").concat(new Date(c.updatedAt).getFullYear()),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(j.jsxs)(o.b,{className:Pt.a.orange,to:"/admin/users/edit/".concat(c._id),children:["Editar ",Object(j.jsx)(kt.a,{})]}),Object(j.jsxs)(o.b,{className:Pt.a.Red,to:"/admin/users",children:["Volver ",Object(j.jsx)(It.b,{})]})]})]})})]})},wt=a(285),Tt=a(162),Mt=a(108),Bt=a.n(Mt),Ft=Object(s.h)((function(e){var t,a,c,r,o,l,d,u=Object(s.f)().id,m=u===localStorage.getItem("id"),h=Object(n.useState)({firstName:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa nombre(s)"},icon:te.c,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un nombre"},lastName:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa apellido(s)"},icon:te.c,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un apellido"},email:{elementType:"group",elementConfig:{type:"email",placeholder:"Ingresa el email"},icon:te.a,value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1,errorMessage:"Ingresa un email v\xe1lido"},password:{elementType:"group",elementConfig:{type:"password",placeholder:"Ingresa la contrase\xf1a"},icon:te.b,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Ingresa una contrase\xf1a v\xe1lida"},confirmPassword:{elementType:"group",elementConfig:{type:"password",placeholder:"Confirma la contrase\xf1a"},icon:te.b,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Las contrase\xf1as no coinciden"},type:{elementType:"select",elementConfig:{options:[{value:"admin",displayValue:"Administrador"},{value:"chef",displayValue:"Chef"},{value:"mesero",displayValue:"Mesero"},{value:"cliente",displayValue:"Cliente"}]},value:"admin",validation:{},valid:!0}}),g=Object(i.a)(h,2),b=g[0],p=g[1],v=Object(n.useState)(!0),O=Object(i.a)(v,2),f=O[0],x=O[1],y=Object(n.useState)(!1),_=Object(i.a)(y,2),C=_[0],N=_[1];Object(n.useEffect)((function(){!function(e){var t=e.id,a=e.editForm,n=e.setEditForm,c=e.updateObject,r=e.setLoading,o=e.owner;ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/usuarios/").concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var t=c(a,{firstName:c(a.firstName,{value:e.data.detail.firstName,valid:!0,touched:!0}),lastName:c(a.lastName,{value:e.data.detail.lastName,valid:!0,touched:!0}),email:c(a.email,{value:e.data.detail.email,valid:!0,touched:!0}),password:c(a.password,{value:"",valid:!1,touched:!1}),confirmPassword:c(a.confirmPassword,{value:"",valid:!1,touched:!1}),type:c(a.type,{value:e.data.detail.type,valid:!0,touched:!0})});o?delete t.type:(delete t.firstName,delete t.lastName,delete t.email),n(t),r(!1)})).catch((function(e){r(!1),console.log(e)}))}({id:u,editForm:b,setEditForm:p,updateObject:D,setLoading:x,owner:m})}),[]);var S=[];for(var k in b)S.push({id:k,config:b[k]});var I=f?Object(j.jsx)(K,{}):S.map((function(e){return Object(j.jsx)(ee,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=D(b,Object(B.a)({},t,D(b[t],{value:e.target.value,valid:"confirmPassword"===t?e.target.value===b.password.value:L(e.target.value,b[t].validation),touched:!0})));"password"===t&&a.confirmPassword.value&&(a=D(a,{confirmPassword:D(a.confirmPassword,{valid:e.target.value===a.confirmPassword.value})})),p(a)}(t,e.id)}},e.id)}));return Object(j.jsx)(ke.a,{children:Object(j.jsx)(q.a,{className:Bt.a.EditUser,children:Object(j.jsxs)(q.a.Body,{children:[Object(j.jsx)("h4",{className:"card-title text-center mb-4 mt-1",children:"Editar Usuario"}),Object(j.jsx)("hr",{}),Object(j.jsxs)(H.a,{noValidate:!0,onSubmit:function(t){var a,n,c,r,o;t.preventDefault(),x(!0),N(!1);var i={firstName:null===b||void 0===b||null===(a=b.firstName)||void 0===a?void 0:a.value,lastName:null===b||void 0===b||null===(n=b.lastName)||void 0===n?void 0:n.value,email:null===b||void 0===b||null===(c=b.email)||void 0===c?void 0:c.value,password:null===b||void 0===b||null===(r=b.password)||void 0===r?void 0:r.value,type:null===b||void 0===b||null===(o=b.type)||void 0===o?void 0:o.value};!function(e){var t=e.id,a=e.data,n=e.setLoading,c=e.setErrorMessage,r=e.history;ne.a.put("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/usuarios/editar/").concat(t),a,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){n(!1),r.push("/".concat(localStorage.getItem("type"),"/users/").concat(e.data.detail._id))})).catch((function(e){console.log(e),n(!1),c(!0)}))}({id:u,data:i,setLoading:x,setErrorMessage:N,history:e.history})},children:[I,Object(j.jsxs)(wt.a,{children:[Object(j.jsx)(Tt.a,{children:Object(j.jsx)(R.a,{className:Bt.a.saveBtn,type:"submit",variant:"primary",size:"lg",block:!0,disabled:m?!(null===b||void 0===b||null===(t=b.firstName)||void 0===t?void 0:t.valid)||!(null===b||void 0===b||null===(a=b.lastName)||void 0===a?void 0:a.valid)||!(null===b||void 0===b||null===(c=b.email)||void 0===c?void 0:c.valid)||!(null===b||void 0===b||null===(r=b.password)||void 0===r?void 0:r.valid)||!(null===b||void 0===b||null===(o=b.confirmPassword)||void 0===o?void 0:o.valid):!(null===b||void 0===b||null===(l=b.password)||void 0===l?void 0:l.valid)||!(null===b||void 0===b||null===(d=b.confirmPassword)||void 0===d?void 0:d.valid),children:" Guardar"})}),Object(j.jsx)(Tt.a,{children:Object(j.jsx)(R.a,{variant:"danger",size:"lg",block:!0,onClick:function(){return e.history.push("/".concat(localStorage.getItem("type"),"/users/").concat(u))},children:"Cancelar"})})]}),C&&Object(j.jsx)("p",{className:"".concat(Bt.a.ErrorMessage," text-center mt-2"),children:"Error: Verifica los datos ingresados"})]})]})})})})),Dt=a(109),Lt=a.n(Dt),zt=Object(s.h)((function(e){var t=Object(n.useState)({firstName:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa nombre(s)"},icon:te.c,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un nombre"},lastName:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa apellido(s)"},icon:te.c,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un apellido"},email:{elementType:"group",elementConfig:{type:"email",placeholder:"Ingresa el email"},icon:te.a,value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1,errorMessage:"Ingresa un email v\xe1lido"},password:{elementType:"group",elementConfig:{type:"password",placeholder:"Ingresa la contrase\xf1a"},icon:te.b,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Ingresa una contrase\xf1a v\xe1lida"},confirmPassword:{elementType:"group",elementConfig:{type:"password",placeholder:"Confirma la contrase\xf1a"},icon:te.b,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Las contrase\xf1as no coinciden"},type:{elementType:"select",elementConfig:{options:[{value:"admin",displayValue:"Administrador"},{value:"chef",displayValue:"Chef"},{value:"mesero",displayValue:"Mesero"},{value:"cliente",displayValue:"Cliente"}]},value:"admin",validation:{},valid:!0}}),a=Object(i.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(!1),s=Object(i.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)(!1),m=Object(i.a)(u,2),h=m[0],g=m[1],b=[];for(var p in c)b.push({id:p,config:c[p]});var v=l?Object(j.jsx)(K,{}):b.map((function(e){return Object(j.jsx)(ee,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=D(c,Object(B.a)({},t,D(c[t],{value:e.target.value,valid:"confirmPassword"===t?e.target.value===c.password.value:L(e.target.value,c[t].validation),touched:!0})));"password"===t&&a.confirmPassword.value&&(a=D(a,{confirmPassword:D(a.confirmPassword,{valid:e.target.value===a.confirmPassword.value})})),r(a)}(t,e.id)}},e.id)}));return Object(j.jsx)(ke.a,{children:Object(j.jsx)(q.a,{className:Lt.a.NewUser,children:Object(j.jsxs)(q.a.Body,{children:[Object(j.jsx)("h4",{className:"card-title text-center mb-4 mt-1",children:"Nuevo usuario"}),Object(j.jsx)("hr",{}),Object(j.jsxs)(H.a,{noValidate:!0,onSubmit:function(t){t.preventDefault(),d(!0),g(!1);var a={firstName:c.firstName.value,lastName:c.lastName.value,email:c.email.value,password:c.password.value,type:c.type.value};ce({data:a,setLoading:d,setErrorMessage:g,register:!0,history:e.history})},children:[v,Object(j.jsxs)(wt.a,{children:[Object(j.jsx)(Tt.a,{children:Object(j.jsx)(R.a,{className:Lt.a.saveBtn,type:"submit",variant:"primary",size:"lg",block:!0,disabled:!c.firstName.valid||!c.lastName.valid||!c.email.valid||!c.password.valid||!c.confirmPassword.valid,children:" Registrar  "})}),Object(j.jsx)(Tt.a,{children:Object(j.jsx)(R.a,{variant:"danger",size:"lg",block:!0,onClick:function(){return e.history.push("/".concat(localStorage.getItem("type"),"/users"))},children:"Cancelar"})})]}),h&&Object(j.jsx)("p",{className:"".concat(Lt.a.ErrorMessage," text-center mt-2"),children:"Error: Verifica los datos ingresados"})]})]})})})})),Ut=a(286),Vt=a(49),qt=a.n(Vt),Ht=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(i.a)(r,2),l=s[0],d=s[1],u=Object(n.useState)({inactivo:{elementType:"check",label:"Inactivo",value:!1,valid:!0},activo:{elementType:"check",label:"Activo",value:!1,valid:!0}}),m=Object(i.a)(u,2),h=m[0],g=m[1],b=Object(n.useState)({minPrice:{elementType:"input",elementConfig:{type:"number",placeholder:"Precio minimo"},value:"",valid:!0},maxPrice:{elementType:"input",elementConfig:{type:"number",placeholder:"Precio m\xe1ximo"},value:"",valid:!0}}),p=Object(i.a)(b,2),v=p[0],O=p[1],f=Object(n.useState)({nombre:{elementType:"input",elementConfig:{type:"text",placeholder:"Nombre"},value:"",valid:!0}}),x=Object(i.a)(f,2),y=x[0],_=x[1],C=Object(n.useState)({descripcion:{elementType:"input",elementConfig:{type:"text",placeholder:"Descripci\xf3n"},value:"",valid:!0}}),N=Object(i.a)(C,2),S=N[0],k=N[1],I=Object(n.useState)({categoria:{elementType:"input",elementConfig:{type:"text",placeholder:"Categoria"},value:"",valid:!0}}),A=Object(i.a)(I,2),P=A[0],E=A[1],w=Object(n.useState)(1),T=Object(i.a)(w,2),M=T[0],B=T[1];return Object(n.useEffect)((function(){ve({setProducts:c,setLoading:d,filter:{}})}),[]),Object(j.jsxs)("div",{className:"".concat(qt.a.Products),children:[Object(j.jsx)(xt,{statusForm:h,setStatusForm:g,priceForm:v,setPriceForm:O,nombreForm:y,setNombreForm:_,descripcionForm:S,setDescripcionForm:k,categoriaForm:P,setCategoriaForm:E,filterHandler:function(){var e={};[h,v,y,S,P].forEach((function(t){for(var a in t)e[a]=t[a].value})),d(!0),B(1),function(e){var t=e.setProducts,a=e.setLoading,n=e.filter;ne.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/productos/filtrar"),n,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){t(e.data.detail),a(!1)})).catch((function(e){a(!1),console.log(e)}))}({setProducts:c,setLoading:d,filter:e})},clearFilter:function(){g({inactivo:{elementType:"check",label:"Inactivo",value:!1,valid:!0},activo:{elementType:"check",label:"Activo",value:!1,valid:!0}}),O({minPrice:{elementType:"input",elementConfig:{type:"number",placeholder:"Precio minimo"},value:"",valid:!0},maxPrice:{elementType:"input",elementConfig:{type:"number",placeholder:"Precio m\xe1ximo"},value:"",valid:!0}}),_({nombre:{elementType:"input",elementConfig:{type:"text",placeholder:"Nombre"},value:"",valid:!0}}),k({descripcion:{elementType:"input",elementConfig:{type:"text",placeholder:"Descripci\xf3n"},value:"",valid:!0}}),E({categoria:{elementType:"input",elementConfig:{type:"text",placeholder:"Categoria"},value:"",valid:!0}}),d(!0),B(1),ve({setProducts:c,setLoading:d,filter:{}})}}),Object(j.jsx)("br",{}),Object(j.jsxs)(q.a,{className:qt.a.Card,children:[Object(j.jsx)("section",{className:qt.a.buttonContainer,children:Object(j.jsx)(o.b,{to:"/admin/products/new-product",children:Object(j.jsxs)(R.a,{className:qt.a.orangeBtn,size:"sm",children:[Object(j.jsx)("p",{className:qt.a.big,children:"+"})," Nuevo producto"]})})}),l?Object(j.jsx)(K,{}):Object(j.jsx)("div",{className:qt.a.Table,children:Object(j.jsx)(rt,{headers:["ID","Foto","Nombre","Descripci\xf3n","Costo","Categoria","Estado","Ver"],rows:Object(re.a)(a).splice(10*(M-1),10).map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id.substring(e._id.length-7)}),Object(j.jsx)("td",{children:Object(j.jsx)(Ut.a,{className:qt.a.ProductImage,src:e.image,thumbnail:!0})}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.description}),Object(j.jsx)("td",{children:e.cost}),Object(j.jsx)("td",{className:e.idCategoria.status?"":"text-muted",children:e.idCategoria.name}),Object(j.jsx)("td",{children:Object(j.jsx)(_t.a,{checked:e.status,onChange:function(){var n=Object(re.a)(a);n[10*(M-1)+t].status=!a[10*(M-1)+t].status,c(n),function(e){var t=e.id,a=e.status;ne.a.put("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/productos/cambiarEstatus/").concat(t),{status:a},{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){})).catch((function(e){console.log(e)}))}({id:e._id,status:e.status})}})}),Object(j.jsx)("td",{children:Object(j.jsx)(o.b,{to:"/admin/products/".concat(e._id),children:Object(j.jsx)(Te.a,{className:"".concat(qt.a.blue)})})})]},t)}))})}),!l&&Object(j.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(j.jsx)(it,{elements:a,active:M,setActive:B})})]})]})},Rt=a(110),Qt=a.n(Rt),Gt=function(){var e=Object(s.f)().id,t=Object(n.useState)({}),a=Object(i.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)(!0),d=Object(i.a)(l,2),u=d[0],m=d[1];return Object(n.useEffect)((function(){pe({id:e,setProduct:r,setLoading:m})}),[e]),u?Object(j.jsx)(K,{}):Object(j.jsxs)(q.a,{className:Qt.a.Product,children:[Object(j.jsx)(q.a.Img,{variant:"top",src:c.image}),Object(j.jsxs)(q.a.Body,{children:[Object(j.jsx)(q.a.Title,{className:"text-capitalize",children:c.name}),Object(j.jsx)(q.a.Text,{children:c.description})]}),Object(j.jsx)(q.a.Footer,{children:Object(j.jsxs)("small",{className:"text-muted",children:["Ultima actualizaci\xf3n el ".concat(new Date(c.updatedAt).getDate(),"/").concat(new Date(c.updatedAt).getMonth()+1,"/").concat(new Date(c.updatedAt).getFullYear()),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(j.jsxs)(o.b,{className:Qt.a.orange,to:"/admin/products/edit/".concat(c._id),children:["Editar ",Object(j.jsx)(kt.a,{})]}),Object(j.jsxs)(o.b,{className:Qt.a.Red,to:"/admin/products",children:["Volver ",Object(j.jsx)(It.b,{})]})]})]})})]})},Kt=a(32),Jt=a(111),Zt=a.n(Jt),Yt=Object(s.h)((function(e){var t=Object(s.f)().id,a=Object(n.useState)({name:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa el nombre del producto"},icon:It.a,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un nombre"},category:{elementType:"select",elementConfig:{options:[{value:"",displayValue:"Cargando categor\xedas..."}]},value:"",validation:{},valid:!0},description:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa la descripci\xf3n"},icon:Kt.d,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa una descripci\xf3n"},cost:{elementType:"group",elementConfig:{type:"number",placeholder:"Ingresa el costo"},icon:Kt.a,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa el costo"},image:{elementType:"group",elementConfig:{type:"url",placeholder:"Ingresa enlace de la imagen"},icon:Kt.c,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Ingresa una imagen"}}),c=Object(i.a)(a,2),r=c[0],o=c[1],l=Object(n.useState)(!0),d=Object(i.a)(l,2),u=d[0],m=d[1],h=Object(n.useState)(!1),g=Object(i.a)(h,2),b=g[0],p=g[1];Object(n.useEffect)((function(){!function(e){var t=e.id,a=e.editForm,n=e.setEditForm,c=e.updateObject,r=e.setLoading;ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/productos/").concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var t=c(a,{name:c(a.name,{value:e.data.detail.name,valid:!0,touched:!0}),description:c(a.description,{value:e.data.detail.description,valid:!0,touched:!0}),cost:c(a.cost,{value:e.data.detail.cost,valid:!0,touched:!0}),image:c(a.image,{value:e.data.detail.image,valid:!0,touched:!0})}),o={displayValue:e.data.detail.idCategoria.name,value:e.data.detail.idCategoria._id};Oe({editForm:t,setEditForm:n,setLoading:r,updateObject:c,init:o})})).catch((function(e){r(!1),console.log(e)}))}({id:t,editForm:r,setEditForm:o,updateObject:D,setLoading:m})}),[]);var v=[];for(var O in r)v.push({id:O,config:r[O]});var f=u?Object(j.jsx)(K,{}):v.map((function(e){return Object(j.jsx)(ee,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=D(r,Object(B.a)({},t,D(r[t],{value:e.target.value,valid:L(e.target.value,r[t].validation),touched:!0})));o(a)}(t,e.id)}},e.id)}));return Object(j.jsx)(ke.a,{children:Object(j.jsx)(q.a,{className:Zt.a.EditProduct,children:Object(j.jsxs)(q.a.Body,{children:[Object(j.jsx)("h4",{className:"card-title text-center mb-4 mt-1",children:"Editar Producto"}),Object(j.jsx)("hr",{}),Object(j.jsxs)(H.a,{noValidate:!0,onSubmit:function(a){a.preventDefault(),m(!0),p(!1);var n={name:r.name.value,idCategoria:r.category.value,description:r.description.value,cost:r.cost.value,image:r.image.value};!function(e){var t=e.id,a=e.data,n=e.setLoading,c=e.setErrorMessage,r=e.history;ne.a.put("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/productos/editar/").concat(t),a,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){n(!1),r.push("/".concat(localStorage.getItem("type"),"/products/").concat(e.data.detail._id))})).catch((function(e){console.log(e),n(!1),c(!0)}))}({id:t,data:n,setLoading:m,setErrorMessage:p,history:e.history})},className:"d-flex flex-column",children:[f,Object(j.jsx)(Ut.a,{className:"w-50 my-3 mx-auto",src:r.image.value,onError:function(e){e.target.src="https://www.ninjaseo.com.au/wp-content/uploads/2016/07/placeholder4.png"},thumbnail:!0}),Object(j.jsxs)(wt.a,{children:[Object(j.jsx)(Tt.a,{children:Object(j.jsx)(R.a,{className:Zt.a.saveBtn,type:"submit",variant:"primary",size:"lg",block:!0,disabled:!r.name.valid||!r.description.valid||!r.cost.valid||!r.image.valid,children:"Guardar"})}),Object(j.jsx)(Tt.a,{children:Object(j.jsx)(R.a,{variant:"danger",size:"lg",block:!0,onClick:function(){return e.history.push("/".concat(localStorage.getItem("type"),"/products/").concat(t))},children:"Cancelar"})})]}),b&&Object(j.jsx)("p",{className:"".concat(Zt.a.ErrorMessage," text-center mt-2"),children:"Error: Verifica los datos ingresados"})]})]})})})})),Wt=a(112),Xt=a.n(Wt),$t=Object(s.h)((function(e){var t=Object(n.useState)({name:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa el nombre del producto"},icon:It.a,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un nombre"},category:{elementType:"select",elementConfig:{options:[{value:"",displayValue:"Cargando categor\xedas..."}]},value:"",validation:{},valid:!0},description:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa la descripci\xf3n"},icon:Kt.d,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa una descripci\xf3n"},cost:{elementType:"group",elementConfig:{type:"number",placeholder:"Ingresa el costo"},icon:Kt.a,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa el costo"},image:{elementType:"group",elementConfig:{type:"url",placeholder:"Ingresa enlace de la imagen"},icon:Kt.c,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Ingresa una imagen"}}),a=Object(i.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(!0),s=Object(i.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)(!1),m=Object(i.a)(u,2),h=m[0],g=m[1];Object(n.useEffect)((function(){Oe({editForm:c,setEditForm:r,setLoading:d,updateObject:D})}),[]);var b=[];for(var p in c)b.push({id:p,config:c[p]});var v=l?Object(j.jsx)(K,{}):b.map((function(e){return Object(j.jsx)(ee,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=D(c,Object(B.a)({},t,D(c[t],{value:e.target.value,valid:L(e.target.value,c[t].validation),touched:!0})));r(a)}(t,e.id)}},e.id)}));return Object(j.jsx)(ke.a,{children:Object(j.jsx)(q.a,{className:Xt.a.NewProduct,children:Object(j.jsxs)(q.a.Body,{children:[Object(j.jsx)("h4",{className:"card-title text-center mb-4 mt-1",children:"Nuevo Producto"}),Object(j.jsx)("hr",{}),Object(j.jsxs)(H.a,{noValidate:!0,onSubmit:function(t){t.preventDefault(),d(!0),g(!1),function(e){var t=e.data,a=e.setLoading,n=e.setErrorMessage,c=e.history;ne.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/productos/"),t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){a(!1),n(!1),c.push("/admin/products/".concat(e.data.detail._id))})).catch((function(e){console.log(e),n(!0),a(!1)}))}({data:{name:c.name.value,idCategoria:c.category.value,description:c.description.value,cost:c.cost.value,image:c.image.value},history:e.history,setLoading:d,setErrorMessage:g})},className:"d-flex flex-column",children:[v,Object(j.jsx)(Ut.a,{className:"w-50 my-3 mx-auto",src:c.image.value,onError:function(e){e.target.src="https://www.ninjaseo.com.au/wp-content/uploads/2016/07/placeholder4.png"},thumbnail:!0}),Object(j.jsxs)(wt.a,{children:[Object(j.jsx)(Tt.a,{children:Object(j.jsx)(R.a,{className:Xt.a.saveBtn,type:"submit",variant:"primary",size:"lg",block:!0,disabled:!c.name.valid||!c.category.valid||!c.description.valid||!c.cost.valid||!c.image.valid,children:"Guardar"})}),Object(j.jsx)(Tt.a,{children:Object(j.jsx)(R.a,{variant:"danger",size:"lg",block:!0,onClick:function(){return e.history.push("/".concat(localStorage.getItem("type"),"/products"))},children:"Cancelar"})})]}),h&&Object(j.jsx)("p",{className:"".concat(Xt.a.ErrorMessage," text-center mt-2"),children:"Error: Verifica los datos ingresados"})]})]})})})})),ea=a(56),ta=a.n(ea),aa=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(i.a)(r,2),l=s[0],d=s[1],u=Object(n.useState)({inactivo:{elementType:"check",label:"Inactivo",value:!1,valid:!0},activo:{elementType:"check",label:"Activo",value:!1,valid:!0}}),m=Object(i.a)(u,2),h=m[0],g=m[1],b=Object(n.useState)({nombre:{elementType:"input",elementConfig:{type:"text",placeholder:"Nombre"},value:"",valid:!0}}),p=Object(i.a)(b,2),v=p[0],O=p[1],f=Object(n.useState)({descripcion:{elementType:"input",elementConfig:{type:"text",placeholder:"Descripci\xf3n"},value:"",valid:!0}}),x=Object(i.a)(f,2),y=x[0],_=x[1],C=Object(n.useState)(1),N=Object(i.a)(C,2),S=N[0],k=N[1];return Object(n.useEffect)((function(){ge({setCategories:c,setLoading:d})}),[]),Object(j.jsxs)("div",{className:ta.a.Categories,children:[Object(j.jsx)(xt,{statusForm:h,setStatusForm:g,nombreForm:v,setNombreForm:O,descripcionForm:y,setDescripcionForm:_,filterHandler:function(){var e={};[h,v,y].forEach((function(t){for(var a in t)e[a]=t[a].value})),d(!0),k(1),function(e){var t=e.setCategories,a=e.setLoading,n=e.filter;ne.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/categoria/filtrar"),n,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){t(e.data.detail),a(!1)})).catch((function(e){a(!1),console.log(e)}))}({setCategories:c,setLoading:d,filter:e})},clearFilter:function(){g({inactivo:{elementType:"check",label:"Inactivo",value:!1,valid:!0},activo:{elementType:"check",label:"Activo",value:!1,valid:!0}}),O({nombre:{elementType:"input",elementConfig:{type:"text",placeholder:"Nombre"},value:"",valid:!0}}),_({descripcion:{elementType:"input",elementConfig:{type:"text",placeholder:"Descripci\xf3n"},value:"",valid:!0}}),d(!0),k(1),ge({setCategories:c,setLoading:d})}}),Object(j.jsx)("br",{}),Object(j.jsxs)(q.a,{className:ta.a.Card,children:[Object(j.jsx)("section",{className:ta.a.buttonContainer,children:Object(j.jsx)(o.b,{to:"/admin/categories/new-category",children:Object(j.jsxs)(R.a,{className:ta.a.orangeBtn,size:"sm",children:[Object(j.jsx)("p",{className:ta.a.big,children:"+"})," Nueva categor\xeda"]})})}),l?Object(j.jsx)(K,{}):Object(j.jsx)("div",{className:ta.a.Table,children:Object(j.jsx)(rt,{headers:["ID","Nombre","Descripci\xf3n","Estado","Ver"],rows:Object(re.a)(a).splice(10*(S-1),10).map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id.substring(e._id.length-7)}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.description}),Object(j.jsx)("td",{children:Object(j.jsx)(_t.a,{checked:e.status,onChange:function(){var n=Object(re.a)(a);n[10*(S-1)+t].status=!a[10*(S-1)+t].status,c(n),function(e){var t=e.id,a=e.status;ne.a.put("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/categoria/cambiarEstatus/").concat(t),{status:a},{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){})).catch((function(e){console.log(e)}))}({id:e._id,status:e.status})}})}),Object(j.jsx)("td",{children:Object(j.jsx)(o.b,{to:"/admin/categories/".concat(e._id),children:Object(j.jsx)(Te.a,{className:"".concat(ta.a.blue)})})})]},t)}))})}),!l&&Object(j.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(j.jsx)(it,{elements:a,active:S,setActive:k})})]})]})},na=a(113),ca=a.n(na),ra=function(){var e=Object(s.f)().id,t=Object(n.useState)({}),a=Object(i.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)(!0),d=Object(i.a)(l,2),u=d[0],m=d[1];return Object(n.useEffect)((function(){!function(e){var t=e.id,a=e.setCategory,n=e.setLoading;ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/categoria/").concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){a(e.data.detail),n(!1)})).catch((function(e){n(!1),console.log(e)}))}({id:e,setCategory:r,setLoading:m})}),[e]),u?Object(j.jsx)(K,{}):Object(j.jsxs)(q.a,{className:ca.a.Category,children:[Object(j.jsx)(q.a.Header,{children:Object(j.jsx)(q.a.Title,{className:"text-capitalize",children:c.name})}),Object(j.jsx)(q.a.Body,{children:Object(j.jsx)(q.a.Text,{children:c.description})}),Object(j.jsx)(q.a.Footer,{children:Object(j.jsxs)("small",{className:"text-muted",children:["Ultima actualizaci\xf3n el ".concat(new Date(c.updatedAt).getDate(),"/").concat(new Date(c.updatedAt).getMonth()+1,"/").concat(new Date(c.updatedAt).getFullYear()),Object(j.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(j.jsxs)(o.b,{className:ca.a.orange,to:"/admin/categories/edit/".concat(c._id),children:["Editar ",Object(j.jsx)(kt.a,{})]}),Object(j.jsxs)(o.b,{className:ca.a.Red,to:"/admin/categories",children:["Volver ",Object(j.jsx)(It.b,{})]})]})]})})]})},oa=a(114),ia=a.n(oa),sa=Object(s.h)((function(e){var t,a,c=Object(s.f)().id,r=Object(n.useState)({name:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa el nombre de la categor\xeda"},icon:It.a,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un nombre"},description:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa la descripci\xf3n"},icon:Kt.d,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa una descripci\xf3n"}}),o=Object(i.a)(r,2),l=o[0],d=o[1],u=Object(n.useState)(!0),m=Object(i.a)(u,2),h=m[0],g=m[1],b=Object(n.useState)(!1),p=Object(i.a)(b,2),v=p[0],O=p[1];Object(n.useEffect)((function(){!function(e){var t=e.id,a=e.editForm,n=e.setEditForm,c=e.updateObject,r=e.setLoading;ne.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/categoria/").concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var t=c(a,{name:c(a.name,{value:e.data.detail.name,valid:!0,touched:!0}),description:c(a.description,{value:e.data.detail.description,valid:!0,touched:!0})});n(t),r(!1)})).catch((function(e){r(!1),console.log(e)}))}({id:c,editForm:l,setEditForm:d,updateObject:D,setLoading:g})}),[]);var f=[];for(var x in l)f.push({id:x,config:l[x]});var y=h?Object(j.jsx)(K,{}):f.map((function(e){return Object(j.jsx)(ee,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=D(l,Object(B.a)({},t,D(l[t],{value:e.target.value,valid:"confirmPassword"===t?e.target.value===l.password.value:L(e.target.value,l[t].validation),touched:!0})));"password"===t&&a.confirmPassword.value&&(a=D(a,{confirmPassword:D(a.confirmPassword,{valid:e.target.value===a.confirmPassword.value})})),d(a)}(t,e.id)}},e.id)}));return Object(j.jsx)(ke.a,{children:Object(j.jsx)(q.a,{className:ia.a.EditCategory,children:Object(j.jsxs)(q.a.Body,{children:[Object(j.jsx)("h4",{className:"card-title text-center mb-4 mt-1",children:"Editar Categor\xeda"}),Object(j.jsx)("hr",{}),Object(j.jsxs)(H.a,{noValidate:!0,onSubmit:function(t){var a,n;t.preventDefault(),g(!0),O(!1);var r={name:null===l||void 0===l||null===(a=l.name)||void 0===a?void 0:a.value,description:null===l||void 0===l||null===(n=l.description)||void 0===n?void 0:n.value};!function(e){var t=e.id,a=e.data,n=e.setLoading,c=e.setErrorMessage,r=e.history;ne.a.put("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/categoria/editar/").concat(t),a,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){n(!1),r.push("/".concat(localStorage.getItem("type"),"/categories/").concat(e.data.detail._id))})).catch((function(e){console.log(e),n(!1),c(!0)}))}({id:c,data:r,setLoading:g,setErrorMessage:O,history:e.history})},children:[y,Object(j.jsxs)(wt.a,{children:[Object(j.jsx)(Tt.a,{children:Object(j.jsx)(R.a,{type:"submit",className:ia.a.saveBtn,variant:"primary",size:"lg",block:!0,disabled:!(null===l||void 0===l||null===(t=l.name)||void 0===t?void 0:t.valid)||!(null===l||void 0===l||null===(a=l.description)||void 0===a?void 0:a.valid),children:"Guardar"})}),Object(j.jsx)(Tt.a,{children:Object(j.jsx)(R.a,{variant:"danger",size:"lg",block:!0,onClick:function(){return e.history.push("/".concat(localStorage.getItem("type"),"/categories/").concat(c))},children:"Cancelar"})})]}),v&&Object(j.jsx)("p",{className:"".concat(ia.a.ErrorMessage," text-center mt-2"),children:"Error: Verifica los datos ingresados"})]})]})})})})),la=a(115),da=a.n(la),ua=Object(s.h)((function(e){var t=Object(n.useState)({name:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa el nombre de la categor\xeda"},icon:It.a,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un nombre"},description:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa la descripci\xf3n"},icon:Kt.d,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa una descripci\xf3n"}}),a=Object(i.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(!1),s=Object(i.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)(!1),m=Object(i.a)(u,2),h=m[0],g=m[1],b=[];for(var p in c)b.push({id:p,config:c[p]});var v=l?Object(j.jsx)(K,{}):b.map((function(e){return Object(j.jsx)(ee,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=D(c,Object(B.a)({},t,D(c[t],{value:e.target.value,valid:L(e.target.value,c[t].validation),touched:!0})));r(a)}(t,e.id)}},e.id)}));return Object(j.jsx)(ke.a,{children:Object(j.jsx)(q.a,{className:da.a.NewCategory,children:Object(j.jsxs)(q.a.Body,{children:[Object(j.jsx)("h4",{className:"card-title text-center mb-4 mt-1",children:"Nueva Categor\xeda"}),Object(j.jsx)("hr",{}),Object(j.jsxs)(H.a,{noValidate:!0,onSubmit:function(t){t.preventDefault(),d(!0),g(!1),function(e){var t=e.data,a=e.setLoading,n=e.setErrorMessage,c=e.history;ne.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/categoria"),t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){a(!1),c.push("/".concat(localStorage.getItem("type"),"/categories/").concat(e.data.detail._id))})).catch((function(e){n(!0),a(!1)}))}({data:{name:c.name.value,description:c.description.value},history:e.history,setLoading:d,setErrorMessage:g})},className:"d-flex flex-column",children:[v,Object(j.jsxs)(wt.a,{children:[Object(j.jsx)(Tt.a,{children:Object(j.jsx)(R.a,{className:da.a.saveBtn,type:"submit",variant:"primary",size:"lg",block:!0,disabled:!c.name.valid||!c.description.valid,children:"Guardar"})}),Object(j.jsx)(Tt.a,{children:Object(j.jsx)(R.a,{variant:"danger",size:"lg",block:!0,onClick:function(){return e.history.push("/".concat(localStorage.getItem("type"),"/categories"))},children:"Cancelar"})})]}),h&&Object(j.jsx)("p",{className:"".concat(da.a.ErrorMessage," text-center mt-2"),children:"Error: Verifica los datos ingresados"})]})]})})})})),ja=a.p+"static/media/Error404.260cc172.png",ma=Object(s.h)((function(e){return Object(j.jsxs)(ke.a,{children:[Object(j.jsx)("div",{className:"text-right",children:Object(j.jsx)(R.a,{variant:"danger",className:"ml-auto",onClick:function(){e.history.goBack()},children:"Ir atr\xe1s"})}),Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)(Ut.a,{src:ja,alt:"Error 404"})})]})})),ha=a(171),ga=a.n(ha),ba=function(){var e=Object(s.g)().path;return Object(j.jsx)("div",{className:ga.a.AdminBg,children:Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:"".concat(e,"/"),exact:!0,children:Object(j.jsx)(ht,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/orders-history"),children:Object(j.jsx)(dt,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/users/edit/:id"),children:Object(j.jsx)(Ft,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/users/new-user"),children:Object(j.jsx)(zt,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/users/:id"),children:Object(j.jsx)(Et,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/users"),children:Object(j.jsx)(St,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/products/edit/:id"),children:Object(j.jsx)(Yt,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/products/new-product"),children:Object(j.jsx)($t,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/products/:id"),children:Object(j.jsx)(Gt,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/products"),children:Object(j.jsx)(Ht,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/categories/edit/:id"),children:Object(j.jsx)(sa,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/categories/new-category"),children:Object(j.jsx)(ua,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/categories/:id"),children:Object(j.jsx)(ra,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/categories"),children:Object(j.jsx)(aa,{})}),Object(j.jsx)(s.a,{children:Object(j.jsx)(ma,{})})]})})},pa=a(93),va=a(135),Oa=a.n(va),fa=function(e){var t=e.eventKey,a=e.toggleShowCard,n=e.showed,c=Object(pa.b)(t,(function(){}));return Object(j.jsx)(Kt.b,{onClick:function(){a(),c()},className:n?Oa.a.actionIconLess:Oa.a.actionIconMore})},xa=a(83),ya=a.n(xa),_a=function(e){var t,a,c,r,o=Object(n.useState)(!1),s=Object(i.a)(o,2),l=s[0],d=s[1],u=z(localStorage.getItem("type"),e.order.status);return{chef:1===e.order.status||2===e.order.status,cliente:4!==e.order.status}[localStorage.getItem("type")]?Object(j.jsx)(Ye.a,{children:Object(j.jsxs)(q.a,{className:ya.a.ordercard,children:[Object(j.jsx)("div",{className:"ml-auto",children:Object(j.jsx)(fa,{toggleShowCard:function(){d(!l)},showed:l,eventKey:"0"})}),Object(j.jsxs)(q.a.Title,{children:[Object(j.jsxs)("h4",{children:["Pedido #",e.order._id]}),Object(j.jsx)(et,{status:e.order.status})]}),Object(j.jsx)(Ye.a.Collapse,{eventKey:"0",children:Object(j.jsxs)(q.a.Body,{className:ya.a.orderBody,children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Estado: "})," ",U(e.order.status)]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Cliente: "})," ","".concat(e.order.idCliente.firstName," ").concat(e.order.idCliente.lastName)]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Chef: "})," ",e.order.idChef?"".concat(null===(t=e.order.idChef)||void 0===t?void 0:t.firstName," ").concat(null===(a=e.order.idChef)||void 0===a?void 0:a.lastName):"Sin asignar"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Mesero: "})," ",e.order.idMesero?"".concat(null===(c=e.order.idMesero)||void 0===c?void 0:c.firstName," ").concat(null===(r=e.order.idMesero)||void 0===r?void 0:r.lastName):"Sin asignar"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Costo: "})," $",e.order.cost]}),Object(j.jsx)("hr",{}),Object(j.jsx)("h5",{children:Object(j.jsx)("b",{children:"Detalle del pedido:"})}),Object(j.jsx)("br",{}),e.order.info?e.order.info.map((function(e,t){return Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:e.name}),Object(j.jsx)("br",{}),e.description]},t)})):null]})}),"NA"!==u&&Object(j.jsx)(q.a.Footer,{className:"".concat(ya.a.orderFooter," w-100"),children:Object(j.jsx)(R.a,{className:ya.a.actionButton,onClick:function(){return e.changeStatusHandler(e.order._id)},disabled:e.loading,children:u})})]})}):null},Ca=a(72),Na=a.n(Ca),Sa=function(e){return Object(j.jsx)("div",{className:"col mb-3",children:Object(j.jsxs)(q.a,{className:"text-center",children:[Object(j.jsx)(q.a.Header,{className:Na.a.ProductCardHeader,children:Object(j.jsx)("h4",{className:Na.a.ProductCardHeaderText,children:e.product.name})}),Object(j.jsxs)(q.a.Body,{className:Na.a.ProductCardBody,children:[Object(j.jsx)(q.a.Text,{className:"text-break text-center",children:Object(j.jsx)("img",{className:Na.a.ProductCard,src:e.product.image,alt:"Platillos De Comida"})}),Object(j.jsx)(R.a,{variant:"info",className:Na.a.Button,block:!0,onClick:function(){return e.setProduct(e.product),void e.handleShow()},children:"Ver Platillo"})]})]})})},ka=a(57),Ia=a.n(ka),Aa=function(e){var t=e.productID,a=Object(n.useState)({}),c=Object(i.a)(a,2),r=c[0],o=c[1],s=Object(n.useState)(!0),l=Object(i.a)(s,2),d=l[0],u=l[1],m=Object(n.useState)([]),h=Object(i.a)(m,2),g=h[0],b=h[1];Object(n.useEffect)((function(){t&&f(t)}),[t]);var p=function(e,t){return e+t},v=function(t,a){!function(e){e.setLoading;var t={info:e.info,cost:e.cost};ne.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/pedido"),t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){})).catch((function(e){console.log(e.message)}))}({info:t,cost:a}),e.handleClose(),b([])},O=g.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:t+1}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.cost}),Object(j.jsx)("td",{children:Object(j.jsx)(R.a,{variant:"danger",className:"float-left",onClick:function(){!function(e){var t=Object(re.a)(g);t.splice(e,1),b(t)}(t)},children:"Eliminar De Carrito"})})]},t)})),f=function(e){u(!0),pe({id:e,setProduct:o,setLoading:u})};return Object(j.jsx)(Xe.a,{show:e.show,onHide:e.handleClose,children:d?Object(j.jsx)(K,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Xe.a.Header,{closeButton:!0,children:Object(j.jsx)(Xe.a.Title,{style:{color:"#FF8352"},children:r.name})}),Object(j.jsxs)(Xe.a.Body,{children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:Ia.a.ProductModalImage,src:r.image,alt:"Platillo"})}),Object(j.jsxs)("div",{className:Ia.a.ProductModalBody,children:[Object(j.jsxs)("div",{className:Ia.a.ProductModalBodyDescription,children:[Object(j.jsx)("p",{style:{color:"#FF8352"},children:Object(j.jsx)("b",{children:"Descripci\xf3n:"})}),Object(j.jsx)("p",{children:r.description})]}),Object(j.jsxs)("div",{className:Ia.a.ProductModalBodyCost,children:[Object(j.jsx)("p",{style:{color:"#FF8352"},children:Object(j.jsx)("b",{children:"Costo:"})}),Object(j.jsxs)("h4",{children:["$",r.cost]})]})]})]}),Object(j.jsxs)(Xe.a.Footer,{children:[!g.length&&Object(j.jsx)(R.a,{variant:"primary",className:"".concat(Ia.a.orderThis," float-left"),onClick:function(){v([r._id],r.cost)},children:"Ordenar S\xf3lo Este Platillo"}),Object(j.jsx)(R.a,{variant:"success",className:"".concat(Ia.a.addCart," float-left"),onClick:function(){b(g.concat({_id:r._id,name:r.name,cost:r.cost}))},children:"Agregar a Carrito"}),Object(j.jsx)(R.a,{className:Ia.a.exitBtn,variant:"secondary",onClick:e.handleClose,children:"Salir"})]}),g.length>0&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"Tu Pedido."}),Object(j.jsxs)(ct.a,{striped:!0,bordered:!0,hover:!0,children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"#"}),Object(j.jsx)("th",{children:"Producto:"}),Object(j.jsx)("th",{children:"Precio:"}),Object(j.jsx)("th",{children:"Eliminar:"})]})}),Object(j.jsx)("tbody",{children:O})]}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("strong",{children:"Total:"})," ",g.map((function(e){return e.cost})).reduce(p)]}),Object(j.jsx)(R.a,{variant:"primary",className:"float-left",onClick:function(){v(g.map((function(e){return e._id})),g.map((function(e){return e.cost})).reduce(p))},children:"Ordenar Carrito"})]})]})})},Pa=a(84),Ea=a.n(Pa),wa=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(i.a)(r,2),s=o[0],l=o[1],d=Object(n.useState)(!0),u=Object(i.a)(d,2),m=u[0],h=u[1],g=Object(n.useState)({}),b=Object(i.a)(g,2),p=b[0],v=b[1],O=Object(n.useState)([]),f=Object(i.a)(O,2),x=f[0],y=f[1],_=Object(n.useState)({}),C=Object(i.a)(_,2),N=C[0],S=C[1],k=function(){return c(!0)};Object(n.useEffect)((function(){be({setCategories:y}),ve({setProducts:l,setLoading:h,filter:N})}),[]),Object(n.useEffect)((function(){var e=setInterval((function(){be({setCategories:y}),ve({setProducts:l,setLoading:h,filter:N})}),V);return function(){return clearInterval(e)}}),[N]);var I=s.map((function(e){return Object(j.jsx)(Sa,{product:e,handleShow:k,setProduct:v},e._id)}));return Object(j.jsxs)(ke.a,{className:"mb-4",children:[Object(j.jsxs)("div",{className:"".concat(Ea.a.ButtonsContainer," col d-flex flex-wrap mb-4 align-content-center justify-content-center"),children:[Object(j.jsx)(R.a,{className:"".concat(Ea.a.CategoryBtn," p-2 m-2"),variant:"outline-secondary",onClick:function(){S({}),ve({setProducts:l,setLoading:h,filter:{}})},children:"Todos"}),x.map((function(e,t){return Object(j.jsx)(R.a,{variant:"outline-primary",className:"p-2 m-2",onClick:function(){S({categoria:e._id}),ve({setProducts:l,setLoading:h,filter:{categoria:e._id}})},children:e.name},t)}))]}),Object(j.jsx)("div",{className:Ea.a.CardsOuterContainer,children:Object(j.jsxs)("div",{className:"".concat(Ea.a.CardsContainer," overflow-auto"),children:[Object(j.jsx)(ke.a,{className:"overflow-auto vh-75",children:m?Object(j.jsx)(K,{}):0===I.length?Object(j.jsx)("h1",{className:"text-center mt-5",children:"Seleccione una categor\xeda"}):Object(j.jsx)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 overflow-auto",children:I})}),Object(j.jsx)(Aa,{productID:null===p||void 0===p?void 0:p._id,show:a,handleClose:function(){return c(!1)}})]})})]})},Ta=a(172),Ma=a.n(Ta),Ba=function(){var e=Object(s.g)().path,t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],r=a[1],o=function(){var e=Object(se.a)(ie.a.mark((function e(t){var a,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(re.a)(c),n=a.findIndex((function(e){return e._id===t})),e.next=4,me({id:a[n]._id,data:{status:0}});case 4:return e.next=6,de({setOrders:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){de({setOrders:r});var e=setInterval((function(){de({setOrders:r})}),V);return function(){return clearInterval(e)}}),[]),Object(j.jsxs)("div",{className:Ma.a.Clientebg,children:[0!==c.length&&Object(j.jsx)(_a,{changeStatusHandler:o,order:c[0]}),Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:"".concat(e,"/"),exact:!0,children:Object(j.jsx)(wa,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/my-orders"),children:Object(j.jsx)(dt,{})}),Object(j.jsx)(s.a,{children:Object(j.jsx)(ma,{})})]})]})},Fa=a(173),Da=a.n(Fa),La=function(){var e=Object(s.g)().path,t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],r=a[1],o=function(){var e=Object(se.a)(ie.a.mark((function e(t){var a,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(re.a)(c),n=a.findIndex((function(e){return e._id===t})),a[n].status++,e.next=5,me({id:a[n]._id,data:{status:a[n].status}});case 5:return e.next=7,de({setOrders:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){de({setOrders:r});var e=setInterval((function(){de({setOrders:r})}),V);return function(){return clearInterval(e)}}),[]),Object(j.jsxs)("div",{className:Da.a.background,children:[0!==c.length&&Object(j.jsx)(_a,{changeStatusHandler:o,order:c[0]}),Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:"".concat(e,"/"),exact:!0,children:Object(j.jsx)(ht,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/my-orders"),children:Object(j.jsx)(dt,{})}),Object(j.jsx)(s.a,{children:Object(j.jsx)(ma,{})})]})]})},za=a(174),Ua=a.n(za),Va=function(){var e=Object(s.g)().path;return Object(j.jsx)("div",{className:Ua.a.Meserobg,children:Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:"".concat(e,"/"),exact:!0,children:Object(j.jsx)(ht,{})}),Object(j.jsx)(s.a,{path:"".concat(e,"/my-orders"),children:Object(j.jsx)(dt,{})})]})})};var qa=Object(s.h)((function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],r=a[1],o=e.history,l=e.location.pathname,d={admin:Object(j.jsx)(ba,{}),cliente:Object(j.jsx)(Ba,{}),chef:Object(j.jsx)(La,{}),mesero:Object(j.jsx)(Va,{})};Object(n.useEffect)((function(){localStorage.getItem("type")?(r(localStorage.getItem("token")),l.includes("/".concat(localStorage.getItem("type")))||o.push("/".concat(localStorage.getItem("type")))):r(null)}),[o,c,l]);var u=null,m=Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:"/",exact:!0,children:Object(j.jsx)(Ne,{setToken:r,isAuthenticated:!!c})}),Object(j.jsx)(s.a,{path:"/signup",children:Object(j.jsx)(Pe,{setToken:r,isAuthenticated:!!c})}),Object(j.jsx)(s.a,{children:Object(j.jsx)(ma,{})})]});return c&&(u=d[localStorage.getItem("type")],m=Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:"/".concat(localStorage.getItem("type")),children:u}),Object(j.jsx)(s.a,{path:"/logout",children:Object(j.jsx)(Se,{logout:function(){localStorage.clear(),e.history.push("/")}})}),Object(j.jsx)(s.a,{children:Object(j.jsx)(ma,{})})]})),Object(j.jsx)(M,{isAuthenticated:!!c,children:m})})),Ha=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,662)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};a(272),a(273),a(274);r.a.render(Object(j.jsx)(o.a,{basename:"".concat("/BEDU_Grupo5"),children:Object(j.jsx)(qa,{})}),document.getElementById("root")),Ha()},48:function(e,t,a){e.exports={OrderHistory:"OrderHistory_OrderHistory__3wZHA",Card:"OrderHistory_Card__3cZF3",orangeBtn:"OrderHistory_orangeBtn__1nnYs",orangeTxt:"OrderHistory_orangeTxt__qJ1ry",orangeUnderlined:"OrderHistory_orangeUnderlined__1o-1I",SearchPanel:"OrderHistory_SearchPanel__dzw6H",responsive:"OrderHistory_responsive__w6Vye",icon:"OrderHistory_icon__19vV6"}},49:function(e,t,a){e.exports={Products:"Products_Products__15WSn",Card:"Products_Card__3J2kU",blue:"Products_blue__2UUv9",buttonContainer:"Products_buttonContainer__KrrCy",orangeBtn:"Products_orangeBtn__2LFlD",big:"Products_big__1kNtp",ProductImage:"Products_ProductImage__3xY9Q"}},54:function(e,t,a){e.exports={ordercard:"orderModal_ordercard__1AfKW",actionButton:"orderModal_actionButton__3c0wB",orderFooter:"orderModal_orderFooter__2QUPV",secondaryButton:"orderModal_secondaryButton__26WX7",nameOrange:"orderModal_nameOrange__3HHHj",orangeBackground:"orderModal_orangeBackground__n-A3D"}},55:function(e,t,a){e.exports={Users:"Users_Users__1V-Xg",Card:"Users_Card__3vP27",blue:"Users_blue__1llPy",buttonContainer:"Users_buttonContainer__2UCYr",orangeBtn:"Users_orangeBtn__13GqV",big:"Users_big__1dtFV"}},56:function(e,t,a){e.exports={Categories:"Categories_Categories__fRfun",Card:"Categories_Card__TFLDU",blue:"Categories_blue__1bGxz",buttonContainer:"Categories_buttonContainer__2KvLy",orangeBtn:"Categories_orangeBtn__3LSfW",big:"Categories_big__q-Vk_"}},57:function(e,t,a){e.exports={orderThis:"ProductModal_orderThis__2dIUa",addCart:"ProductModal_addCart__nxGFa",exitBtn:"ProductModal_exitBtn__1BJuv",ProductModalImage:"ProductModal_ProductModalImage__3EVSj",ProductModalBody:"ProductModal_ProductModalBody__2q2sN",ProductModalBodyDescription:"ProductModal_ProductModalBodyDescription__dUwk5",ProductModalBodyCost:"ProductModal_ProductModalBodyCost__JHPLs"}},60:function(e,t,a){e.exports={Check:"Checkmark_Check__19i9H",parpadeo:"Checkmark_parpadeo__2uV49",Green:"Checkmark_Green__3YXcQ",Blue:"Checkmark_Blue__3a5gb",Yellow:"Checkmark_Yellow__1jDEX",GreenBlue:"Checkmark_GreenBlue__UMfHn",Grey:"Checkmark_Grey__z5U0u",Pink:"Checkmark_Pink__2ilJb"}},71:function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__3kXLK",Open:"SideDrawer_Open__1tCv1",Close:"SideDrawer_Close__9j7x-",Logo:"SideDrawer_Logo__3voUv"}},72:function(e,t,a){e.exports={Button:"Product_Button__1vqWg",ProductCard:"Product_ProductCard__2zHK2",ProductCardBody:"Product_ProductCardBody__2NhsG",ProductCardHeader:"Product_ProductCardHeader__FnNFU",ProductCardHeaderText:"Product_ProductCardHeaderText__2glbh"}},82:function(e,t,a){e.exports={done:"Order_done__2xRCf",orange:"Order_orange__HhvwG",blue:"Order_blue__10lcV",green:"Order_green__1mElR"}},83:function(e,t,a){e.exports={ordercard:"ordercard_ordercard__1j2IG",actionButton:"ordercard_actionButton__tlRx4"}},84:function(e,t,a){e.exports={CategoryBtn:"Products_CategoryBtn__3qLkR",CardsContainer:"Products_CardsContainer__fULvd",ButtonsContainer:"Products_ButtonsContainer__208x6",CardsOuterContainer:"Products_CardsOuterContainer__2QBdt"}}},[[275,1,3]]]);
//# sourceMappingURL=main.25604f2c.chunk.js.map